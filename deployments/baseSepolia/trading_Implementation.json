{
  "address": "0xD0b677c673Dc6648651119D5e66828FA026741b0",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "orderId",
          "type": "uint256"
        },
        {
          "components": [
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "trader",
                  "type": "address"
                },
                {
                  "internalType": "uint256",
                  "name": "pairIndex",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "index",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "initialPosToken",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "positionSizeWETH",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "openPrice",
                  "type": "uint256"
                },
                {
                  "internalType": "bool",
                  "name": "buy",
                  "type": "bool"
                },
                {
                  "internalType": "uint256",
                  "name": "leverage",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "tp",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "sl",
                  "type": "uint256"
                }
              ],
              "internalType": "struct StorageInterface.Trade",
              "name": "trade",
              "type": "tuple"
            },
            {
              "internalType": "uint256",
              "name": "block",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "wantedPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "slippageP",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "spreadReductionP",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "tokenId",
              "type": "uint256"
            }
          ],
          "indexed": false,
          "internalType": "struct StorageInterface.PendingMarketOrder",
          "name": "order",
          "type": "tuple"
        }
      ],
      "name": "ChainlinkCallbackTimeout",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "CouldNotCloseTrade",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bool",
          "name": "done",
          "type": "bool"
        }
      ],
      "name": "Done",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "version",
          "type": "uint8"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "orderId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "open",
          "type": "bool"
        }
      ],
      "name": "MarketOrderInitiated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "int256",
          "name": "value",
          "type": "int256"
        }
      ],
      "name": "MinLeveragedPosWETHSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "orderId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftHolder",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        }
      ],
      "name": "NftOrderInitiated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftHolder",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        }
      ],
      "name": "NftOrderSameBlock",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "NumberUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "OpenLimitCanceled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "OpenLimitPlaced",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newTp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newSl",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "maxSlippageP",
          "type": "uint256"
        }
      ],
      "name": "OpenLimitUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bool",
          "name": "paused",
          "type": "bool"
        }
      ],
      "name": "Paused",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newSl",
          "type": "uint256"
        }
      ],
      "name": "SlUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newTp",
          "type": "uint256"
        }
      ],
      "name": "TpUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "_msgSender",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "borrowingFees",
      "outputs": [
        {
          "internalType": "contract BorrowingFeesInterface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "callbacks",
      "outputs": [
        {
          "internalType": "contract CallbacksInterface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "closeTradeMarket",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "call_data",
          "type": "bytes"
        }
      ],
      "name": "delegatedAction",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "delegations",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "done",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_orderType",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nftId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nftType",
          "type": "uint256"
        }
      ],
      "name": "executeLiquidation",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[100]",
          "name": "_orderTypes",
          "type": "uint256[100]"
        },
        {
          "internalType": "address[100]",
          "name": "traders",
          "type": "address[100]"
        },
        {
          "internalType": "uint256[100]",
          "name": "pairIndexs",
          "type": "uint256[100]"
        },
        {
          "internalType": "uint256[100]",
          "name": "indexs",
          "type": "uint256[100]"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "executeLiquidations",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract StorageInterface",
          "name": "_storageT",
          "type": "address"
        },
        {
          "internalType": "contract NftRewardsInterfaceV6_3_1",
          "name": "_nftRewards",
          "type": "address"
        },
        {
          "internalType": "contract PairInfosInterface",
          "name": "_pairInfos",
          "type": "address"
        },
        {
          "internalType": "contract ReferralsInterface",
          "name": "_referrals",
          "type": "address"
        },
        {
          "internalType": "contract BorrowingFeesInterface",
          "name": "_borrowingFees",
          "type": "address"
        },
        {
          "internalType": "contract CallbacksInterface",
          "name": "_callbacks",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_maxPosWETH",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_marketOrdersTimeout",
          "type": "uint256"
        },
        {
          "internalType": "int256",
          "name": "_minLeveragedPosWETH",
          "type": "int256"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "isDone",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "isPaused",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "isTradeLiquidatable",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "pairIndex",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "index",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "initialPosToken",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "positionSizeWETH",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "openPrice",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "buy",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "tp",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sl",
              "type": "uint256"
            }
          ],
          "internalType": "struct StorageInterface.Trade",
          "name": "t",
          "type": "tuple"
        }
      ],
      "name": "isTradeLiquidatablePure",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "isTradeParLiquidatable",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "pairIndex",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "index",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "initialPosToken",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "positionSizeWETH",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "openPrice",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "buy",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "tp",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sl",
              "type": "uint256"
            }
          ],
          "internalType": "struct StorageInterface.Trade",
          "name": "t",
          "type": "tuple"
        }
      ],
      "name": "isTradeParLiquidatablePure",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "marketOrdersTimeout",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "maxPosWETH",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "minLeveragedPosWETH",
      "outputs": [
        {
          "internalType": "int256",
          "name": "",
          "type": "int256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nftRewards",
      "outputs": [
        {
          "internalType": "contract NftRewardsInterfaceV6_3_1",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "pairIndex",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "index",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "initialPosToken",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "positionSizeWETH",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "openPrice",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "buy",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "tp",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sl",
              "type": "uint256"
            }
          ],
          "internalType": "struct StorageInterface.Trade",
          "name": "t",
          "type": "tuple"
        },
        {
          "internalType": "enum NftRewardsInterfaceV6_3_1.OpenLimitOrderType",
          "name": "orderType",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "spreadReductionId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "slippageP",
          "type": "uint256"
        }
      ],
      "name": "openTrade",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pairInfos",
      "outputs": [
        {
          "internalType": "contract PairInfosInterface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pause",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "referrals",
      "outputs": [
        {
          "internalType": "contract ReferralsInterface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "removeDelegate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        }
      ],
      "name": "setDelegate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "setMarketOrdersTimeout",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "setMaxPosWETH",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "int256",
          "name": "value",
          "type": "int256"
        }
      ],
      "name": "setMinLeveragedPosWETH",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "storageT",
      "outputs": [
        {
          "internalType": "contract StorageInterface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "newSl",
          "type": "uint256"
        }
      ],
      "name": "updateSl",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pairIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "newTp",
          "type": "uint256"
        }
      ],
      "name": "updateTp",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xb66655f258a1e22ffc39f704a26c371f4fab3e4478fddebd91feee5f3d46c81f",
  "receipt": {
    "to": null,
    "from": "0xa667403454F483dE81A0363Af7FcEE563819D910",
    "contractAddress": "0xD0b677c673Dc6648651119D5e66828FA026741b0",
    "transactionIndex": 1,
    "gasUsed": "3819941",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x9563b281c6cb4ca9ebd7bb712c91deb531ba2acdaac2ed051be99468fad47b83",
    "transactionHash": "0xb66655f258a1e22ffc39f704a26c371f4fab3e4478fddebd91feee5f3d46c81f",
    "logs": [],
    "blockNumber": 4473883,
    "cumulativeGasUsed": "3883942",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "5af97cf568aedef2eac0d2ad801f242e",
  "metadata": "{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"},{\"components\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeWETH\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"}],\"internalType\":\"struct StorageInterface.Trade\",\"name\":\"trade\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"block\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"wantedPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"slippageP\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"spreadReductionP\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct StorageInterface.PendingMarketOrder\",\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"ChainlinkCallbackTimeout\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"CouldNotCloseTrade\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"done\",\"type\":\"bool\"}],\"name\":\"Done\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"version\",\"type\":\"uint8\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"open\",\"type\":\"bool\"}],\"name\":\"MarketOrderInitiated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"value\",\"type\":\"int256\"}],\"name\":\"MinLeveragedPosWETHSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"nftHolder\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"}],\"name\":\"NftOrderInitiated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"nftHolder\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"}],\"name\":\"NftOrderSameBlock\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"NumberUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"OpenLimitCanceled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"OpenLimitPlaced\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newTp\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newSl\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maxSlippageP\",\"type\":\"uint256\"}],\"name\":\"OpenLimitUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"paused\",\"type\":\"bool\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newSl\",\"type\":\"uint256\"}],\"name\":\"SlUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newTp\",\"type\":\"uint256\"}],\"name\":\"TpUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"_msgSender\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"borrowingFees\",\"outputs\":[{\"internalType\":\"contract BorrowingFeesInterface\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"callbacks\",\"outputs\":[{\"internalType\":\"contract CallbacksInterface\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"closeTradeMarket\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"call_data\",\"type\":\"bytes\"}],\"name\":\"delegatedAction\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"delegations\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"done\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_orderType\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nftId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nftType\",\"type\":\"uint256\"}],\"name\":\"executeLiquidation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[100]\",\"name\":\"_orderTypes\",\"type\":\"uint256[100]\"},{\"internalType\":\"address[100]\",\"name\":\"traders\",\"type\":\"address[100]\"},{\"internalType\":\"uint256[100]\",\"name\":\"pairIndexs\",\"type\":\"uint256[100]\"},{\"internalType\":\"uint256[100]\",\"name\":\"indexs\",\"type\":\"uint256[100]\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"executeLiquidations\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract StorageInterface\",\"name\":\"_storageT\",\"type\":\"address\"},{\"internalType\":\"contract NftRewardsInterfaceV6_3_1\",\"name\":\"_nftRewards\",\"type\":\"address\"},{\"internalType\":\"contract PairInfosInterface\",\"name\":\"_pairInfos\",\"type\":\"address\"},{\"internalType\":\"contract ReferralsInterface\",\"name\":\"_referrals\",\"type\":\"address\"},{\"internalType\":\"contract BorrowingFeesInterface\",\"name\":\"_borrowingFees\",\"type\":\"address\"},{\"internalType\":\"contract CallbacksInterface\",\"name\":\"_callbacks\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_maxPosWETH\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_marketOrdersTimeout\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"_minLeveragedPosWETH\",\"type\":\"int256\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isDone\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isPaused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"isTradeLiquidatable\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeWETH\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"}],\"internalType\":\"struct StorageInterface.Trade\",\"name\":\"t\",\"type\":\"tuple\"}],\"name\":\"isTradeLiquidatablePure\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"isTradeParLiquidatable\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeWETH\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"}],\"internalType\":\"struct StorageInterface.Trade\",\"name\":\"t\",\"type\":\"tuple\"}],\"name\":\"isTradeParLiquidatablePure\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"marketOrdersTimeout\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"maxPosWETH\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"minLeveragedPosWETH\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"nftRewards\",\"outputs\":[{\"internalType\":\"contract NftRewardsInterfaceV6_3_1\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeWETH\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"}],\"internalType\":\"struct StorageInterface.Trade\",\"name\":\"t\",\"type\":\"tuple\"},{\"internalType\":\"enum NftRewardsInterfaceV6_3_1.OpenLimitOrderType\",\"name\":\"orderType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"spreadReductionId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"slippageP\",\"type\":\"uint256\"}],\"name\":\"openTrade\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pairInfos\",\"outputs\":[{\"internalType\":\"contract PairInfosInterface\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"referrals\",\"outputs\":[{\"internalType\":\"contract ReferralsInterface\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"removeDelegate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"delegate\",\"type\":\"address\"}],\"name\":\"setDelegate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"setMarketOrdersTimeout\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"setMaxPosWETH\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"value\",\"type\":\"int256\"}],\"name\":\"setMinLeveragedPosWETH\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"storageT\",\"outputs\":[{\"internalType\":\"contract StorageInterface\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newSl\",\"type\":\"uint256\"}],\"name\":\"updateSl\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newTp\",\"type\":\"uint256\"}],\"name\":\"updateTp\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"Initialized(uint8)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"}},\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Trading.sol\":\"Trading\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":125},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (proxy/utils/Initializable.sol)\\n\\npragma solidity ^0.8.2;\\n\\nimport \\\"../../utils/AddressUpgradeable.sol\\\";\\n\\n/**\\n * @dev This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed\\n * behind a proxy. Since proxied contracts do not make use of a constructor, it's common to move constructor logic to an\\n * external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer\\n * function so it can only be called once. The {initializer} modifier provided by this contract will have this effect.\\n *\\n * The initialization functions use a version number. Once a version number is used, it is consumed and cannot be\\n * reused. This mechanism prevents re-execution of each \\\"step\\\" but allows the creation of new initialization steps in\\n * case an upgrade adds a module that needs to be initialized.\\n *\\n * For example:\\n *\\n * [.hljs-theme-light.nopadding]\\n * ```solidity\\n * contract MyToken is ERC20Upgradeable {\\n *     function initialize() initializer public {\\n *         __ERC20_init(\\\"MyToken\\\", \\\"MTK\\\");\\n *     }\\n * }\\n *\\n * contract MyTokenV2 is MyToken, ERC20PermitUpgradeable {\\n *     function initializeV2() reinitializer(2) public {\\n *         __ERC20Permit_init(\\\"MyToken\\\");\\n *     }\\n * }\\n * ```\\n *\\n * TIP: To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as\\n * possible by providing the encoded function call as the `_data` argument to {ERC1967Proxy-constructor}.\\n *\\n * CAUTION: When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure\\n * that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.\\n *\\n * [CAUTION]\\n * ====\\n * Avoid leaving a contract uninitialized.\\n *\\n * An uninitialized contract can be taken over by an attacker. This applies to both a proxy and its implementation\\n * contract, which may impact the proxy. To prevent the implementation contract from being used, you should invoke\\n * the {_disableInitializers} function in the constructor to automatically lock it when it is deployed:\\n *\\n * [.hljs-theme-light.nopadding]\\n * ```\\n * /// @custom:oz-upgrades-unsafe-allow constructor\\n * constructor() {\\n *     _disableInitializers();\\n * }\\n * ```\\n * ====\\n */\\nabstract contract Initializable {\\n    /**\\n     * @dev Indicates that the contract has been initialized.\\n     * @custom:oz-retyped-from bool\\n     */\\n    uint8 private _initialized;\\n\\n    /**\\n     * @dev Indicates that the contract is in the process of being initialized.\\n     */\\n    bool private _initializing;\\n\\n    /**\\n     * @dev Triggered when the contract has been initialized or reinitialized.\\n     */\\n    event Initialized(uint8 version);\\n\\n    /**\\n     * @dev A modifier that defines a protected initializer function that can be invoked at most once. In its scope,\\n     * `onlyInitializing` functions can be used to initialize parent contracts.\\n     *\\n     * Similar to `reinitializer(1)`, except that functions marked with `initializer` can be nested in the context of a\\n     * constructor.\\n     *\\n     * Emits an {Initialized} event.\\n     */\\n    modifier initializer() {\\n        bool isTopLevelCall = !_initializing;\\n        require(\\n            (isTopLevelCall && _initialized < 1) || (!AddressUpgradeable.isContract(address(this)) && _initialized == 1),\\n            \\\"Initializable: contract is already initialized\\\"\\n        );\\n        _initialized = 1;\\n        if (isTopLevelCall) {\\n            _initializing = true;\\n        }\\n        _;\\n        if (isTopLevelCall) {\\n            _initializing = false;\\n            emit Initialized(1);\\n        }\\n    }\\n\\n    /**\\n     * @dev A modifier that defines a protected reinitializer function that can be invoked at most once, and only if the\\n     * contract hasn't been initialized to a greater version before. In its scope, `onlyInitializing` functions can be\\n     * used to initialize parent contracts.\\n     *\\n     * A reinitializer may be used after the original initialization step. This is essential to configure modules that\\n     * are added through upgrades and that require initialization.\\n     *\\n     * When `version` is 1, this modifier is similar to `initializer`, except that functions marked with `reinitializer`\\n     * cannot be nested. If one is invoked in the context of another, execution will revert.\\n     *\\n     * Note that versions can jump in increments greater than 1; this implies that if multiple reinitializers coexist in\\n     * a contract, executing them in the right order is up to the developer or operator.\\n     *\\n     * WARNING: setting the version to 255 will prevent any future reinitialization.\\n     *\\n     * Emits an {Initialized} event.\\n     */\\n    modifier reinitializer(uint8 version) {\\n        require(!_initializing && _initialized < version, \\\"Initializable: contract is already initialized\\\");\\n        _initialized = version;\\n        _initializing = true;\\n        _;\\n        _initializing = false;\\n        emit Initialized(version);\\n    }\\n\\n    /**\\n     * @dev Modifier to protect an initialization function so that it can only be invoked by functions with the\\n     * {initializer} and {reinitializer} modifiers, directly or indirectly.\\n     */\\n    modifier onlyInitializing() {\\n        require(_initializing, \\\"Initializable: contract is not initializing\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @dev Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call.\\n     * Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized\\n     * to any version. It is recommended to use this to lock implementation contracts that are designed to be called\\n     * through proxies.\\n     *\\n     * Emits an {Initialized} event the first time it is successfully executed.\\n     */\\n    function _disableInitializers() internal virtual {\\n        require(!_initializing, \\\"Initializable: contract is initializing\\\");\\n        if (_initialized != type(uint8).max) {\\n            _initialized = type(uint8).max;\\n            emit Initialized(type(uint8).max);\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the highest version that has been initialized. See {reinitializer}.\\n     */\\n    function _getInitializedVersion() internal view returns (uint8) {\\n        return _initialized;\\n    }\\n\\n    /**\\n     * @dev Returns `true` if the contract is currently initializing. See {onlyInitializing}.\\n     */\\n    function _isInitializing() internal view returns (bool) {\\n        return _initializing;\\n    }\\n}\\n\",\"keccak256\":\"0x89be10e757d242e9b18d5a32c9fbe2019f6d63052bbe46397a430a1d60d7f794\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/utils/AddressUpgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (utils/Address.sol)\\n\\npragma solidity ^0.8.1;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary AddressUpgradeable {\\n    /**\\n     * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     *\\n     * Furthermore, `isContract` will also return true if the target contract within\\n     * the same transaction is already scheduled for destruction by `SELFDESTRUCT`,\\n     * which only has an effect at the end of a transaction.\\n     * ====\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * You shouldn't rely on `isContract` to protect against flash loan attacks!\\n     *\\n     * Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets\\n     * like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract\\n     * constructor.\\n     * ====\\n     */\\n    function isContract(address account) internal view returns (bool) {\\n        // This method relies on extcodesize/address.code.length, which returns 0\\n        // for contracts in construction, since the code is only stored at the end\\n        // of the constructor execution.\\n\\n        return account.code.length > 0;\\n    }\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.8.0/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n        (bool success, ) = recipient.call{value: amount}(\\\"\\\");\\n        require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain `call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, \\\"Address: low-level call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n        (bool success, bytes memory returndata) = target.call{value: value}(data);\\n        return verifyCallResultFromTarget(target, success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal view returns (bytes memory) {\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return verifyCallResultFromTarget(target, success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionDelegateCall(target, data, \\\"Address: low-level delegate call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        (bool success, bytes memory returndata) = target.delegatecall(data);\\n        return verifyCallResultFromTarget(target, success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Tool to verify that a low level call to smart-contract was successful, and revert (either by bubbling\\n     * the revert reason or using the provided one) in case of unsuccessful call or if target was not a contract.\\n     *\\n     * _Available since v4.8._\\n     */\\n    function verifyCallResultFromTarget(\\n        address target,\\n        bool success,\\n        bytes memory returndata,\\n        string memory errorMessage\\n    ) internal view returns (bytes memory) {\\n        if (success) {\\n            if (returndata.length == 0) {\\n                // only check isContract if the call was successful and the return data is empty\\n                // otherwise we already know that it was a contract\\n                require(isContract(target), \\\"Address: call to non-contract\\\");\\n            }\\n            return returndata;\\n        } else {\\n            _revert(returndata, errorMessage);\\n        }\\n    }\\n\\n    /**\\n     * @dev Tool to verify that a low level call was successful, and revert if it wasn't, either by bubbling the\\n     * revert reason or using the provided one.\\n     *\\n     * _Available since v4.3._\\n     */\\n    function verifyCallResult(\\n        bool success,\\n        bytes memory returndata,\\n        string memory errorMessage\\n    ) internal pure returns (bytes memory) {\\n        if (success) {\\n            return returndata;\\n        } else {\\n            _revert(returndata, errorMessage);\\n        }\\n    }\\n\\n    function _revert(bytes memory returndata, string memory errorMessage) private pure {\\n        // Look for revert reason and bubble it up if present\\n        if (returndata.length > 0) {\\n            // The easiest way to bubble the revert reason is using memory via assembly\\n            /// @solidity memory-safe-assembly\\n            assembly {\\n                let returndata_size := mload(returndata)\\n                revert(add(32, returndata), returndata_size)\\n            }\\n        } else {\\n            revert(errorMessage);\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x9c80f545915582e63fe206c6ce27cbe85a86fc10b9cd2a0e8c9488fb7c2ee422\",\"license\":\"MIT\"},\"contracts/Delegatable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nabstract contract Delegatable {\\n    mapping(address => address) public delegations;\\n    address private senderOverride;\\n\\n    function setDelegate(address delegate) external {\\n        require(tx.origin == msg.sender, \\\"NO_CONTRACT\\\");\\n\\n        delegations[msg.sender] = delegate;\\n    }\\n\\n    function removeDelegate() external {\\n        delegations[msg.sender] = address(0);\\n    }\\n\\n    function delegatedAction(\\n        address trader,\\n        bytes calldata call_data\\n    ) external returns (bytes memory) {\\n        require(delegations[trader] == msg.sender, \\\"DELEGATE_NOT_APPROVED\\\");\\n\\n        senderOverride = trader;\\n        (bool success, bytes memory result) = address(this).delegatecall(\\n            call_data\\n        );\\n        if (!success) {\\n            // Next 5 lines from https://ethereum.stackexchange.com/a/83577 (return the original revert reason)\\n            if (result.length < 68) revert();\\n            assembly {\\n                result := add(result, 0x04)\\n            }\\n            revert(abi.decode(result, (string)));\\n        }\\n\\n        senderOverride = address(0);\\n\\n        return result;\\n    }\\n\\n    function _msgSender() public view returns (address) {\\n        if (senderOverride == address(0)) {\\n            return msg.sender;\\n        } else {\\n            return senderOverride;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xfab714c395b9e8d9b3048c2a5532e19c564b8dcbcf9b1be8b049ec707778d59b\",\"license\":\"MIT\"},\"contracts/Trading.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport \\\"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol\\\";\\nimport \\\"./interfaces/StorageInterface.sol\\\";\\nimport \\\"./interfaces/PairInfosInterface.sol\\\";\\nimport \\\"./interfaces/ReferralsInterface.sol\\\";\\nimport \\\"./interfaces/BorrowingFeesInterface.sol\\\";\\nimport \\\"./Delegatable.sol\\\";\\nimport \\\"./libraries/ChainUtils.sol\\\";\\nimport \\\"./libraries/TradeUtils.sol\\\";\\nimport \\\"./libraries/PackingUtils.sol\\\";\\nimport \\\"./interfaces/NFTRewardInterfaceV6_3.sol\\\";\\nimport \\\"./interfaces/CallbacksInterface.sol\\\";\\nimport \\\"./interfaces/PairsStorageInterfaceV6.sol\\\";\\nimport \\\"./interfaces/AggregatorInterfaceV1_4.sol\\\";\\n\\ncontract Trading is Delegatable, Initializable {\\n    using TradeUtils for address;\\n    using PackingUtils for uint256;\\n\\n    // Contracts (constant)\\n    StorageInterface public storageT;\\n    NftRewardsInterfaceV6_3_1 public nftRewards;\\n    PairInfosInterface public pairInfos;\\n    ReferralsInterface public referrals;\\n    BorrowingFeesInterface public borrowingFees;\\n    CallbacksInterface public callbacks;\\n\\n    // Params (constant)\\n    uint constant PRECISION = 1e10;\\n    uint constant MAX_SL_P = 75; // -75% PNL\\n\\n    // Params (adjustable)\\n    uint public maxPosWETH; // 1e18 (eg. 75000 * 1e18)\\n    uint public marketOrdersTimeout; // block (eg. 30)\\n    int public minLeveragedPosWETH; //100 weth\\n\\n    // State\\n    bool public isPaused; // Prevent opening new trades\\n    bool public isDone; // Prevent any interaction with the contract\\n\\n    // Events\\n    event Done(bool done);\\n    event MinLeveragedPosWETHSet(int value);\\n    event Paused(bool paused);\\n\\n    event NumberUpdated(string name, uint value);\\n\\n    event MarketOrderInitiated(\\n        uint indexed orderId,\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        bool open\\n    );\\n\\n    event OpenLimitPlaced(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index\\n    );\\n    event OpenLimitUpdated(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index,\\n        uint newPrice,\\n        uint newTp,\\n        uint newSl,\\n        uint maxSlippageP\\n    );\\n    event OpenLimitCanceled(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index\\n    );\\n\\n    event TpUpdated(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index,\\n        uint newTp\\n    );\\n    event SlUpdated(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index,\\n        uint newSl\\n    );\\n\\n    event NftOrderInitiated(\\n        uint orderId,\\n        address indexed nftHolder,\\n        address indexed trader,\\n        uint indexed pairIndex\\n    );\\n    event NftOrderSameBlock(\\n        address indexed nftHolder,\\n        address indexed trader,\\n        uint indexed pairIndex\\n    );\\n\\n    event ChainlinkCallbackTimeout(\\n        uint indexed orderId,\\n        StorageInterface.PendingMarketOrder order\\n    );\\n    event CouldNotCloseTrade(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index\\n    );\\n\\n    function initialize(\\n        StorageInterface _storageT,\\n        NftRewardsInterfaceV6_3_1 _nftRewards,\\n        PairInfosInterface _pairInfos,\\n        ReferralsInterface _referrals,\\n        BorrowingFeesInterface _borrowingFees,\\n        CallbacksInterface _callbacks,\\n        uint _maxPosWETH,\\n        uint _marketOrdersTimeout,\\n        int _minLeveragedPosWETH\\n    ) external initializer {\\n        require(\\n            address(_storageT) != address(0) &&\\n                address(_nftRewards) != address(0) &&\\n                address(_pairInfos) != address(0) &&\\n                address(_referrals) != address(0) &&\\n                address(_borrowingFees) != address(0) &&\\n                address(_callbacks) != address(0) &&\\n                _maxPosWETH > 0 &&\\n                _marketOrdersTimeout > 0,\\n            \\\"WRONG_PARAMS\\\"\\n        );\\n\\n        storageT = _storageT;\\n        nftRewards = _nftRewards;\\n        pairInfos = _pairInfos;\\n        referrals = _referrals;\\n        borrowingFees = _borrowingFees;\\n\\n        maxPosWETH = _maxPosWETH;\\n        marketOrdersTimeout = _marketOrdersTimeout;\\n        callbacks = _callbacks;\\n        minLeveragedPosWETH = _minLeveragedPosWETH;\\n    }\\n\\n    // Modifiers\\n    modifier onlyGov() {\\n        isGov();\\n        _;\\n    }\\n    modifier notContract() {\\n        isNotContract();\\n        _;\\n    }\\n    modifier notDone() {\\n        isNotDone();\\n        _;\\n    }\\n\\n    // Saving code size by calling these functions inside modifiers\\n    function isGov() private view {\\n        require(msg.sender == storageT.gov(), \\\"GOV_ONLY\\\");\\n    }\\n\\n    function isNotContract() private view {\\n        require(tx.origin == msg.sender);\\n    }\\n\\n    function isNotDone() private view {\\n        require(!isDone, \\\"DONE\\\");\\n    }\\n\\n    // Manage params\\n    function setMaxPosWETH(uint value) external onlyGov {\\n        require(value > 0, \\\"VALUE_0\\\");\\n        maxPosWETH = value;\\n        emit NumberUpdated(\\\"maxPosWETH\\\", value);\\n    }\\n\\n    function setMarketOrdersTimeout(uint value) external onlyGov {\\n        require(value > 0, \\\"VALUE_0\\\");\\n        marketOrdersTimeout = value;\\n        emit NumberUpdated(\\\"marketOrdersTimeout\\\", value);\\n    }\\n\\n    function setMinLeveragedPosWETH(int value) external onlyGov {\\n        require(value > 0, \\\"VALUE_0\\\");\\n        minLeveragedPosWETH = value;\\n        emit MinLeveragedPosWETHSet(value);\\n    }\\n\\n    // Manage state\\n    function pause() external onlyGov {\\n        isPaused = !isPaused;\\n        emit Paused(isPaused);\\n    }\\n\\n    function done() external onlyGov {\\n        isDone = !isDone;\\n        emit Done(isDone);\\n    }\\n\\n    // Open new trade (MARKET/LIMIT)\\n    function openTrade(\\n        StorageInterface.Trade memory t,\\n        NftRewardsInterfaceV6_3_1.OpenLimitOrderType orderType, // LEGACY => market\\n        uint spreadReductionId,\\n        uint slippageP // 1e10 (%)\\n    )\\n        external\\n        // address referrer\\n        notContract\\n        notDone\\n    {\\n        require(!isPaused, \\\"PAUSED\\\");\\n        require(t.openPrice * slippageP < type(uint256).max, \\\"OVERFLOW\\\");\\n        require(t.openPrice > 0, \\\"PRICE_ZERO\\\");\\n\\n        AggregatorInterfaceV1_4 aggregator = AggregatorInterfaceV1_4(\\n            address(storageT.priceAggregator())\\n        );\\n        PairsStorageInterfaceV6 pairsStored = aggregator.pairsStorage();\\n\\n        address sender = _msgSender();\\n\\n        require(\\n            storageT.openTradesCount(sender, t.pairIndex) +\\n                storageT.pendingMarketOpenCount(sender, t.pairIndex) +\\n                storageT.openLimitOrdersCount(sender, t.pairIndex) <\\n                storageT.maxTradesPerPair(),\\n            \\\"MAX_TRADES_PER_PAIR\\\"\\n        );\\n\\n        require(\\n            storageT.pendingOrderIdsCount(sender) <\\n                storageT.maxPendingMarketOrders(),\\n            \\\"MAX_PENDING_ORDERS\\\"\\n        );\\n        require(t.positionSizeWETH <= maxPosWETH, \\\"ABOVE_MAX_POS\\\");\\n        require(\\n            t.positionSizeWETH * t.leverage >=\\n                pairsStored.pairMinLevPosWETH(t.pairIndex),\\n            \\\"BELOW_MIN_POS\\\"\\n        );\\n\\n        require(\\n            t.leverage > 0 &&\\n                t.leverage >= pairsStored.pairMinLeverage(t.pairIndex) &&\\n                t.leverage <= pairMaxLeverage(pairsStored, t.pairIndex),\\n            \\\"LEVERAGE_INCORRECT\\\"\\n        );\\n\\n        // require(\\n        //     spreadReductionId == 0 ||\\n        //         storageT.nfts(spreadReductionId - 1).balanceOf(sender) > 0,\\n        //     \\\"NO_CORRESPONDING_NFT_SPREAD_REDUCTION\\\"\\n        // );\\n\\n        require(\\n            t.tp == 0 || (t.buy ? t.tp > t.openPrice : t.tp < t.openPrice),\\n            \\\"WRONG_TP\\\"\\n        );\\n        require(\\n            t.sl == 0 || (t.buy ? t.sl < t.openPrice : t.sl > t.openPrice),\\n            \\\"WRONG_SL\\\"\\n        );\\n\\n        (uint priceImpactP, ) = pairInfos.getTradePriceImpact(\\n            0,\\n            t.pairIndex,\\n            t.buy,\\n            t.positionSizeWETH * t.leverage\\n        );\\n        require(\\n            priceImpactP * t.leverage <= pairInfos.maxNegativePnlOnOpenP(),\\n            \\\"PRICE_IMPACT_TOO_HIGH\\\"\\n        );\\n\\n        storageT.transferWETH(sender, address(storageT), t.positionSizeWETH);\\n\\n        if (orderType != NftRewardsInterfaceV6_3_1.OpenLimitOrderType.LEGACY) {\\n            // uint index = storageT.firstEmptyOpenLimitIndex(sender, t.pairIndex);\\n            // storageT.storeOpenLimitOrder(\\n            //     StorageInterface.OpenLimitOrder(\\n            //         sender,\\n            //         t.pairIndex,\\n            //         index,\\n            //         t.positionSizeWETH,\\n            //         spreadReductionId > 0\\n            //             ? storageT.spreadReductionsP(spreadReductionId - 1)\\n            //             : 0,\\n            //         t.buy,\\n            //         t.leverage,\\n            //         t.tp,\\n            //         t.sl,\\n            //         t.openPrice,\\n            //         t.openPrice,\\n            //         ChainUtils.getBlockNumber(),\\n            //         0\\n            //     )\\n            // );\\n            // nftRewards.setOpenLimitOrderType(\\n            //     sender,\\n            //     t.pairIndex,\\n            //     index,\\n            //     orderType\\n            // );\\n            // address c = storageT.callbacks();\\n            // c.setTradeLastUpdated(\\n            //     sender,\\n            //     t.pairIndex,\\n            //     index,\\n            //     TradingCallbacksInterface.TradeType.LIMIT,\\n            //     ChainUtils.getBlockNumber()\\n            // );\\n            // c.setTradeData(\\n            //     sender,\\n            //     t.pairIndex,\\n            //     index,\\n            //     TradingCallbacksInterface.TradeType.LIMIT,\\n            //     slippageP\\n            // );\\n            // emit OpenLimitPlaced(sender, t.pairIndex, index);\\n        } else {\\n            uint orderId = aggregator.getPrice(\\n                t.pairIndex,\\n                AggregatorInterfaceV1_4.OrderType.MARKET_OPEN,\\n                t.positionSizeWETH * t.leverage,\\n                ChainUtils.getBlockNumber()\\n            );\\n\\n            // storageT.storePendingMarketOrder(\\n            //     StorageInterface.PendingMarketOrder(\\n            //         StorageInterface.Trade(\\n            //             sender,\\n            //             t.pairIndex,\\n            //             0,\\n            //             0,\\n            //             t.positionSizeWETH,\\n            //             0,\\n            //             t.buy,\\n            //             t.leverage,\\n            //             t.tp,\\n            //             t.sl\\n            //         ),\\n            //         0,\\n            //         t.openPrice,\\n            //         slippageP,\\n            //         0,\\n            //         0\\n            //     ),\\n            //     orderId,\\n            //     true\\n            // );\\n\\n            (storageT.priceAggregator()).marketOrderfulfill(\\n                orderId,\\n                StorageInterface.PendingMarketOrder(\\n                    StorageInterface.Trade(\\n                        sender,\\n                        t.pairIndex,\\n                        0,\\n                        0,\\n                        t.positionSizeWETH,\\n                        0,\\n                        t.buy,\\n                        t.leverage,\\n                        t.tp,\\n                        t.sl\\n                    ),\\n                    0,\\n                    t.openPrice,\\n                    slippageP,\\n                    0,\\n                    0\\n                )\\n            );\\n\\n            emit MarketOrderInitiated(orderId, sender, t.pairIndex, true);\\n        }\\n\\n        // referrals.registerPotentialReferrer(sender, referrer);\\n    }\\n\\n    // Close trade (MARKET)\\n    function closeTradeMarket(\\n        uint pairIndex,\\n        uint index\\n    ) external notContract notDone {\\n        address sender = _msgSender();\\n        StorageInterface.Trade memory t = storageT.getOpenTrades(\\n            sender,\\n            pairIndex,\\n            index\\n        );\\n\\n        StorageInterface.TradeInfo memory i = storageT.getOpenTradesInfo(\\n            sender,\\n            pairIndex,\\n            index\\n        );\\n\\n        require(\\n            storageT.pendingOrderIdsCount(sender) <\\n                storageT.maxPendingMarketOrders(),\\n            \\\"MAX_PENDING_ORDERS\\\"\\n        );\\n        require(!i.beingMarketClosed, \\\"ALREADY_BEING_CLOSED\\\");\\n        require(t.leverage > 0, \\\"NO_TRADE\\\");\\n\\n        uint orderId = AggregatorInterfaceV1_4(\\n            address(storageT.priceAggregator())\\n        ).getPrice(\\n                pairIndex,\\n                AggregatorInterfaceV1_4.OrderType.MARKET_CLOSE,\\n                (t.initialPosToken * i.tokenPriceWETH * t.leverage) / PRECISION,\\n                ChainUtils.getBlockNumber()\\n            );\\n\\n        // storageT.storePendingMarketOrder(\\n        //     StorageInterface.PendingMarketOrder(\\n        //         StorageInterface.Trade(\\n        //             sender,\\n        //             pairIndex,\\n        //             index,\\n        //             0,\\n        //             0,\\n        //             0,\\n        //             false,\\n        //             0,\\n        //             0,\\n        //             0\\n        //         ),\\n        //         0,\\n        //         0,\\n        //         0,\\n        //         0,\\n        //         0\\n        //     ),\\n        //     orderId,\\n        //     false\\n        // );\\n\\n        (storageT.priceAggregator()).marketOrderfulfill(\\n            orderId,\\n            StorageInterface.PendingMarketOrder(\\n                StorageInterface.Trade(\\n                    sender,\\n                    pairIndex,\\n                    index,\\n                    0,\\n                    0,\\n                    0,\\n                    false,\\n                    0,\\n                    0,\\n                    0\\n                ),\\n                0,\\n                0,\\n                0,\\n                0,\\n                0\\n            )\\n        );\\n\\n        emit MarketOrderInitiated(orderId, sender, pairIndex, false);\\n    }\\n\\n    // Manage limit order (OPEN)\\n    // function updateOpenLimitOrder(\\n    //     uint pairIndex,\\n    //     uint index,\\n    //     uint price, // PRECISION\\n    //     uint tp,\\n    //     uint sl,\\n    //     uint maxSlippageP\\n    // ) external notContract notDone {\\n    //     require(price > 0, \\\"PRICE_ZERO\\\");\\n\\n    //     address sender = _msgSender();\\n    //     require(\\n    //         storageT.hasOpenLimitOrder(sender, pairIndex, index),\\n    //         \\\"NO_LIMIT\\\"\\n    //     );\\n\\n    //     StorageInterface.OpenLimitOrder memory o = storageT.getOpenLimitOrder(\\n    //         sender,\\n    //         pairIndex,\\n    //         index\\n    //     );\\n\\n    //     require(tp == 0 || (o.buy ? tp > price : tp < price), \\\"WRONG_TP\\\");\\n    //     require(sl == 0 || (o.buy ? sl < price : sl > price), \\\"WRONG_SL\\\");\\n\\n    //     require(price * maxSlippageP < type(uint256).max, \\\"OVERFLOW\\\");\\n\\n    //     checkNoPendingTrigger(\\n    //         sender,\\n    //         pairIndex,\\n    //         index,\\n    //         StorageInterface.LimitOrder.OPEN\\n    //     );\\n\\n    //     o.minPrice = price;\\n    //     o.maxPrice = price;\\n    //     o.tp = tp;\\n    //     o.sl = sl;\\n\\n    //     storageT.updateOpenLimitOrder(o);\\n\\n    //     address c = storageT.callbacks();\\n    //     c.setTradeLastUpdated(\\n    //         sender,\\n    //         pairIndex,\\n    //         index,\\n    //         TradingCallbacksInterface.TradeType.LIMIT,\\n    //         ChainUtils.getBlockNumber()\\n    //     );\\n    //     c.setTradeData(\\n    //         sender,\\n    //         pairIndex,\\n    //         index,\\n    //         TradingCallbacksInterface.TradeType.LIMIT,\\n    //         maxSlippageP\\n    //     );\\n\\n    //     emit OpenLimitUpdated(\\n    //         sender,\\n    //         pairIndex,\\n    //         index,\\n    //         price,\\n    //         tp,\\n    //         sl,\\n    //         maxSlippageP\\n    //     );\\n    // }\\n\\n    // function cancelOpenLimitOrder(\\n    //     uint pairIndex,\\n    //     uint index\\n    // ) external notContract notDone {\\n    //     address sender = _msgSender();\\n    //     require(\\n    //         storageT.hasOpenLimitOrder(sender, pairIndex, index),\\n    //         \\\"NO_LIMIT\\\"\\n    //     );\\n\\n    //     StorageInterface.OpenLimitOrder memory o = storageT.getOpenLimitOrder(\\n    //         sender,\\n    //         pairIndex,\\n    //         index\\n    //     );\\n\\n    //     checkNoPendingTrigger(\\n    //         sender,\\n    //         pairIndex,\\n    //         index,\\n    //         StorageInterface.LimitOrder.OPEN\\n    //     );\\n\\n    //     storageT.unregisterOpenLimitOrder(sender, pairIndex, index);\\n    //     storageT.transferWETH(address(storageT), sender, o.positionSize);\\n\\n    //     emit OpenLimitCanceled(sender, pairIndex, index);\\n    // }\\n\\n    // Manage limit order (TP/SL)\\n    function updateTp(\\n        uint pairIndex,\\n        uint index,\\n        uint newTp\\n    ) external notContract notDone {\\n        address sender = _msgSender();\\n\\n        // checkNoPendingTrigger(\\n        //     sender,\\n        //     pairIndex,\\n        //     index,\\n        //     StorageInterface.LimitOrder.TP\\n        // );\\n        StorageInterface.Trade memory t = storageT.getOpenTrades(\\n            sender,\\n            pairIndex,\\n            index\\n        );\\n        require(t.leverage > 0, \\\"NO_TRADE\\\");\\n\\n        storageT.updateTp(sender, pairIndex, index, newTp);\\n        address(storageT.callbacks()).setTpLastUpdated(\\n            sender,\\n            pairIndex,\\n            index,\\n            TradingCallbacksInterface.TradeType.MARKET,\\n            ChainUtils.getBlockNumber()\\n        );\\n\\n        emit TpUpdated(sender, pairIndex, index, newTp);\\n    }\\n\\n    function updateSl(\\n        uint pairIndex,\\n        uint index,\\n        uint newSl\\n    ) external notContract notDone {\\n        address sender = _msgSender();\\n\\n        // checkNoPendingTrigger(\\n        //     sender,\\n        //     pairIndex,\\n        //     index,\\n        //     StorageInterface.LimitOrder.SL\\n        // );\\n\\n        StorageInterface.Trade memory t = storageT.getOpenTrades(\\n            sender,\\n            pairIndex,\\n            index\\n        );\\n        require(t.leverage > 0, \\\"NO_TRADE\\\");\\n\\n        uint maxSlDist = (t.openPrice * MAX_SL_P) / 100 / t.leverage;\\n\\n        require(\\n            newSl == 0 ||\\n                (\\n                    t.buy\\n                        ? newSl >= t.openPrice - maxSlDist\\n                        : newSl <= t.openPrice + maxSlDist\\n                ),\\n            \\\"SL_TOO_BIG\\\"\\n        );\\n\\n        storageT.updateSl(sender, pairIndex, index, newSl);\\n        address(storageT.callbacks()).setSlLastUpdated(\\n            sender,\\n            pairIndex,\\n            index,\\n            TradingCallbacksInterface.TradeType.MARKET,\\n            ChainUtils.getBlockNumber()\\n        );\\n\\n        emit SlUpdated(sender, pairIndex, index, newSl);\\n    }\\n\\n    function executeLiquidations(\\n        uint[100] memory _orderTypes,\\n        address[100] memory traders,\\n        uint[100] memory pairIndexs,\\n        uint[100] memory indexs,\\n        uint256 index\\n    ) public notDone {\\n        for (uint i; i < index; i++) {\\n            executeLiquidation(\\n                _orderTypes[i],\\n                traders[i],\\n                pairIndexs[i],\\n                indexs[i],\\n                1,\\n                1\\n            );\\n        }\\n    }\\n\\n    // Execute limit order\\n    function executeLiquidation(\\n        uint _orderType,\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        uint nftId,\\n        uint nftType\\n    ) public notDone {\\n        // (\\n        //     uint _orderType,\\n        //     address trader,\\n        //     uint pairIndex,\\n        //     uint index,\\n        //     uint nftId,\\n        //     uint nftType\\n        // ) = packed.unpackExecuteNftOrder();\\n        StorageInterface.LimitOrder orderType = StorageInterface.LimitOrder(\\n            _orderType\\n        );\\n        address sender = _msgSender();\\n\\n        // require(nftType >= 1 && nftType <= 5, \\\"WRONG_NFT_TYPE\\\");\\n        // require(storageT.nfts(nftType - 1).ownerOf(nftId) == sender, \\\"NO_NFT\\\");\\n\\n        // require(\\n        //     ChainUtils.getBlockNumber() >=\\n        //         storageT.nftLastSuccess(nftId) + storageT.nftSuccessTimelock(),\\n        //     \\\"SUCCESS_TIMELOCK\\\"\\n        // );\\n\\n        bool isOpenLimit = orderType == StorageInterface.LimitOrder.OPEN;\\n        TradingCallbacksInterface.TradeType tradeType = isOpenLimit\\n            ? TradingCallbacksInterface.TradeType.LIMIT\\n            : TradingCallbacksInterface.TradeType.MARKET;\\n\\n        // require(\\n        //     canExecute(\\n        //         orderType,\\n        //         TradingCallbacksInterface.SimplifiedTradeId(\\n        //             trader,\\n        //             pairIndex,\\n        //             index,\\n        //             tradeType\\n        //         )\\n        //     ),\\n        //     \\\"IN_TIMEOUT\\\"\\n        // );\\n\\n        // handleBotInUse(sender, nftId, trader, pairIndex, index);\\n\\n        StorageInterface.Trade memory t;\\n\\n        if (isOpenLimit) {\\n            revert(\\\"Open Limit orders not supported yet\\\");\\n            // require(\\n            //     storageT.hasOpenLimitOrder(trader, pairIndex, index),\\n            //     \\\"NO_LIMIT\\\"\\n            // );\\n        } else {\\n            t = storageT.getOpenTrades(trader, pairIndex, index);\\n\\n            require(t.leverage > 0, \\\"NO_TRADE\\\");\\n\\n            if (orderType == StorageInterface.LimitOrder.LIQ) {\\n                uint liqPrice = borrowingFees.getTradeLiquidationPrice(\\n                    BorrowingFeesInterface.LiqPriceInput(\\n                        t.trader,\\n                        t.pairIndex,\\n                        t.index,\\n                        t.openPrice,\\n                        t.buy,\\n                        t.positionSizeWETH,\\n                        t.leverage\\n                    )\\n                );\\n\\n                require(\\n                    t.sl == 0 || (t.buy ? liqPrice > t.sl : liqPrice < t.sl),\\n                    \\\"HAS_SL\\\"\\n                );\\n            } else if (orderType == StorageInterface.LimitOrder.PAR_LIQ) {\\n                uint parLiqPrice = borrowingFees\\n                    .getTradePartialLiquidationPrice(\\n                        BorrowingFeesInterface.LiqPriceInput(\\n                            t.trader,\\n                            t.pairIndex,\\n                            t.index,\\n                            t.openPrice,\\n                            t.buy,\\n                            t.positionSizeWETH,\\n                            t.leverage\\n                        )\\n                    );\\n\\n                require(\\n                    t.sl == 0 ||\\n                        (t.buy ? parLiqPrice > t.sl : parLiqPrice < t.sl),\\n                    \\\"HAS_SL\\\"\\n                );\\n                int256 pnl = callbacks.getTradePnl(\\n                    t.trader,\\n                    t.pairIndex,\\n                    t.index\\n                );\\n                int256 position = int(t.positionSizeWETH) + pnl;\\n                require(\\n                    position * int256(t.leverage) >= minLeveragedPosWETH,\\n                    \\\"position too small for partial liquidation\\\"\\n                );\\n            } else {\\n                require(\\n                    orderType != StorageInterface.LimitOrder.SL || t.sl > 0,\\n                    \\\"NO_SL\\\"\\n                );\\n                require(\\n                    orderType != StorageInterface.LimitOrder.TP || t.tp > 0,\\n                    \\\"NO_TP\\\"\\n                );\\n            }\\n        }\\n\\n        // NftRewardsInterfaceV6_3_1.TriggeredLimitId\\n        //     memory triggeredLimitId = NftRewardsInterfaceV6_3_1\\n        //         .TriggeredLimitId(trader, pairIndex, index, orderType);\\n\\n        if (\\n            true\\n            // !nftRewards.triggered(triggeredLimitId) ||\\n            // nftRewards.timedOut(triggeredLimitId)\\n        ) {\\n            uint leveragedPosWETH;\\n\\n            if (isOpenLimit) {\\n                // StorageInterface.OpenLimitOrder memory l = storageT\\n                //     .getOpenLimitOrder(trader, pairIndex, index);\\n                // leveragedPosWETH = l.positionSize * l.leverage;\\n                // (uint priceImpactP, ) = pairInfos.getTradePriceImpact(\\n                //     0,\\n                //     l.pairIndex,\\n                //     l.buy,\\n                //     leveragedPosWETH\\n                // );\\n                // require(\\n                //     priceImpactP * l.leverage <=\\n                //         pairInfos.maxNegativePnlOnOpenP(),\\n                //     \\\"PRICE_IMPACT_TOO_HIGH\\\"\\n                // );\\n            } else {\\n                leveragedPosWETH = t.positionSizeWETH * t.leverage;\\n            }\\n\\n            // storageT.transferLinkToAggregator(\\n            //     sender,\\n            //     pairIndex,\\n            //     leveragedPosWETH\\n            // );\\n\\n            (uint orderId /*uint linkFee*/, ) = getPriceNftOrder(\\n                isOpenLimit,\\n                trader,\\n                pairIndex,\\n                index,\\n                tradeType,\\n                orderType,\\n                leveragedPosWETH\\n            );\\n\\n            StorageInterface.PendingNftOrder memory pendingNftOrder;\\n            pendingNftOrder.nftHolder = sender;\\n            pendingNftOrder.nftId = nftId;\\n            pendingNftOrder.trader = trader;\\n            pendingNftOrder.pairIndex = pairIndex;\\n            pendingNftOrder.index = index;\\n            pendingNftOrder.orderType = orderType;\\n            storageT.storePendingNftOrder(pendingNftOrder, orderId);\\n\\n            (storageT.priceAggregator()).nftOrderfulfill(\\n                orderId,\\n                pendingNftOrder\\n            );\\n            emit NftOrderInitiated(orderId, sender, trader, pairIndex);\\n        } else {\\n            // nftRewards.storeTriggerSameBlock(triggeredLimitId, sender);\\n\\n            emit NftOrderSameBlock(sender, trader, pairIndex);\\n        }\\n    }\\n\\n    // Market timeout\\n    // function openTradeMarketTimeout(uint _order) external notContract notDone {\\n    //     address sender = _msgSender();\\n\\n    //     StorageInterface.PendingMarketOrder memory o = storageT\\n    //         .reqID_pendingMarketOrder(_order);\\n    //     StorageInterface.Trade memory t = o.trade;\\n\\n    //     require(\\n    //         o.block > 0 && ChainUtils.getBlockNumber() >= o.block + marketOrdersTimeout,\\n    //         \\\"WAIT_TIMEOUT\\\"\\n    //     );\\n    //     require(t.trader == sender, \\\"NOT_YOUR_ORDER\\\");\\n    //     require(t.leverage > 0, \\\"WRONG_MARKET_ORDER_TYPE\\\");\\n\\n    //     storageT.unregisterPendingMarketOrder(_order, true);\\n    //     storageT.transferWETH(address(storageT), sender, t.positionSizeWETH);\\n\\n    //     emit ChainlinkCallbackTimeout(_order, o);\\n    // }\\n\\n    // function closeTradeMarketTimeout(uint _order) external notContract notDone {\\n    //     address sender = _msgSender();\\n\\n    //     StorageInterface.PendingMarketOrder memory o = storageT\\n    //         .reqID_pendingMarketOrder(_order);\\n    //     StorageInterface.Trade memory t = o.trade;\\n\\n    //     require(\\n    //         o.block > 0 && ChainUtils.getBlockNumber() >= o.block + marketOrdersTimeout,\\n    //         \\\"WAIT_TIMEOUT\\\"\\n    //     );\\n    //     require(t.trader == sender, \\\"NOT_YOUR_ORDER\\\");\\n    //     require(t.leverage == 0, \\\"WRONG_MARKET_ORDER_TYPE\\\");\\n\\n    //     storageT.unregisterPendingMarketOrder(_order, false);\\n\\n    //     (bool success, ) = address(this).delegatecall(\\n    //         abi.encodeWithSignature(\\n    //             \\\"closeTradeMarket(uint256,uint256)\\\",\\n    //             t.pairIndex,\\n    //             t.index\\n    //         )\\n    //     );\\n\\n    //     if (!success) {\\n    //         emit CouldNotCloseTrade(sender, t.pairIndex, t.index);\\n    //     }\\n\\n    //     emit ChainlinkCallbackTimeout(_order, o);\\n    // }\\n\\n    // //Helpers\\n    // function checkNoPendingTrigger(\\n    //     address trader,\\n    //     uint pairIndex,\\n    //     uint index,\\n    //     StorageInterface.LimitOrder orderType\\n    // ) private view {\\n    //     NftRewardsInterfaceV6_3_1.TriggeredLimitId\\n    //         memory triggeredLimitId = NftRewardsInterfaceV6_3_1\\n    //             .TriggeredLimitId(trader, pairIndex, index, orderType);\\n    //     require(\\n    //         !nftRewards.triggered(triggeredLimitId) ||\\n    //             nftRewards.timedOut(triggeredLimitId),\\n    //         \\\"PENDING_TRIGGER\\\"\\n    //     );\\n    // }\\n\\n    // function canExecute(\\n    //     StorageInterface.LimitOrder orderType,\\n    //     TradingCallbacksInterface.SimplifiedTradeId memory id\\n    // ) private view returns (bool) {\\n    //     if (orderType == StorageInterface.LimitOrder.LIQ) return true;\\n\\n    //     uint b = ChainUtils.getBlockNumber();\\n    //     address cb = storageT.callbacks();\\n\\n    //     if (orderType == StorageInterface.LimitOrder.TP)\\n    //         return !cb.isTpInTimeout(id, b);\\n    //     if (orderType == StorageInterface.LimitOrder.SL)\\n    //         return !cb.isSlInTimeout(id, b);\\n\\n    //     return !cb.isLimitInTimeout(id, b);\\n    // }\\n\\n    function pairMaxLeverage(\\n        PairsStorageInterfaceV6 pairsStored,\\n        uint pairIndex\\n    ) private view returns (uint) {\\n        uint max = TradingCallbacksInterface(address(storageT.callbacks()))\\n            .pairMaxLeverage(pairIndex);\\n        return max > 0 ? max : pairsStored.pairMaxLeverage(pairIndex);\\n    }\\n\\n    // function handleBotInUse(\\n    //     address sender,\\n    //     uint nftId,\\n    //     address trader,\\n    //     uint pairIndex,\\n    //     uint index\\n    // ) private {\\n    //     (bytes32 nftHash, bytes32 botHash) = nftRewards.getNftBotHashes(\\n    //         ChainUtils.getBlockNumber(),\\n    //         sender,\\n    //         nftId,\\n    //         trader,\\n    //         pairIndex,\\n    //         index\\n    //     );\\n    //     require(!nftRewards.nftBotInUse(nftHash, botHash), \\\"BOT_IN_USE\\\");\\n\\n    //     nftRewards.setNftBotInUse(nftHash, botHash);\\n    // }\\n\\n    function getPriceNftOrder(\\n        bool isOpenLimit,\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        TradingCallbacksInterface.TradeType tradeType,\\n        StorageInterface.LimitOrder orderType,\\n        uint leveragedPosWETH\\n    ) private returns (uint orderId, uint linkFee) {\\n        TradingCallbacksInterface.LastUpdated\\n            memory lastUpdated = TradingCallbacksInterface(\\n                address(storageT.callbacks())\\n            ).tradeLastUpdated(trader, pairIndex, index, tradeType);\\n\\n        AggregatorInterfaceV1_4 aggregator = AggregatorInterfaceV1_4(\\n            address(storageT.priceAggregator())\\n        );\\n\\n        orderId = aggregator.getPrice(\\n            pairIndex,\\n            isOpenLimit\\n                ? AggregatorInterfaceV1_4.OrderType.LIMIT_OPEN\\n                : AggregatorInterfaceV1_4.OrderType.LIMIT_CLOSE,\\n            leveragedPosWETH,\\n            isOpenLimit\\n                ? lastUpdated.limit\\n                : orderType == StorageInterface.LimitOrder.SL\\n                ? lastUpdated.sl\\n                : orderType == StorageInterface.LimitOrder.TP\\n                ? lastUpdated.tp\\n                : lastUpdated.created\\n        );\\n\\n        // linkFee = aggregator.linkFee(pairIndex, leveragedPosWETH);\\n    }\\n\\n    function isTradeLiquidatable(\\n        address trader,\\n        uint pairIndex,\\n        uint index\\n    ) external view returns (bool) {\\n        StorageInterface.Trade memory t = storageT.getOpenTrades(\\n            trader,\\n            pairIndex,\\n            index\\n        );\\n\\n        (bool liquidatable, bool noSL) = isTradeLiquidatablePure(t);\\n\\n        require(noSL, \\\"HAS_SL\\\");\\n\\n        return liquidatable;\\n    }\\n\\n    function isTradeLiquidatablePure(\\n        StorageInterface.Trade memory t\\n    ) public view returns (bool, bool) {\\n        if (t.leverage == 0) return (false, false);\\n        uint liqPrice = borrowingFees.getTradeLiquidationPrice(\\n            BorrowingFeesInterface.LiqPriceInput(\\n                t.trader,\\n                t.pairIndex,\\n                t.index,\\n                t.openPrice,\\n                t.buy,\\n                t.positionSizeWETH,\\n                t.leverage\\n            )\\n        );\\n        (uint256 price, uint256 lastUpdateTime) = (storageT.oracle()).getPrice(\\n            t.pairIndex\\n        );\\n        bool noSL = t.sl == 0 || (t.buy ? liqPrice > t.sl : liqPrice < t.sl);\\n\\n        bool liquidatable = t.buy ? price <= liqPrice : price >= liqPrice;\\n\\n        return (liquidatable, noSL);\\n    }\\n\\n    function isTradeParLiquidatable(\\n        address trader,\\n        uint pairIndex,\\n        uint index\\n    ) external view returns (bool) {\\n        StorageInterface.Trade memory t = storageT.getOpenTrades(\\n            trader,\\n            pairIndex,\\n            index\\n        );\\n\\n        (uint256 price, uint256 lastUpdateTime) = (storageT.oracle()).getPrice(\\n            pairIndex\\n        );\\n\\n        (bool parLiquidatable, bool noSL) = isTradeParLiquidatablePure(t);\\n\\n        require(noSL, \\\"HAS_SL\\\");\\n\\n        return parLiquidatable;\\n    }\\n\\n    function isTradeParLiquidatablePure(\\n        StorageInterface.Trade memory t\\n    ) public view returns (bool, bool) {\\n        if (t.leverage == 0) return (false, false);\\n\\n        uint parLiqPrice = borrowingFees.getTradePartialLiquidationPrice(\\n            BorrowingFeesInterface.LiqPriceInput(\\n                t.trader,\\n                t.pairIndex,\\n                t.index,\\n                t.openPrice,\\n                t.buy,\\n                t.positionSizeWETH,\\n                t.leverage\\n            )\\n        );\\n        int256 pnl = callbacks.getTradePnl(t.trader, t.pairIndex, t.index);\\n        int256 position = int(t.positionSizeWETH) + pnl;\\n        bool noSL = t.sl == 0 ||\\n            (t.buy ? parLiqPrice > t.sl : parLiqPrice < t.sl);\\n        if (position * int256(t.leverage) < minLeveragedPosWETH)\\n            return (false, noSL);\\n        (uint256 price, uint256 lastUpdateTime) = (storageT.oracle()).getPrice(\\n            t.pairIndex\\n        );\\n\\n        bool parLiquidatable = t.buy\\n            ? price <= parLiqPrice\\n            : price >= parLiqPrice;\\n\\n        return (parLiquidatable, noSL);\\n    }\\n}\\n\",\"keccak256\":\"0xc2323fa098e417f0e8e2d1335176fb9cf1f286e0bbfddb7c416e75bd5c66a8c2\",\"license\":\"MIT\"},\"contracts/interfaces/AggregatorInterfaceV1.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\nimport \\\"./StorageInterface.sol\\\";\\n\\ninterface AggregatorInterfaceV1 {\\n    enum OrderType {\\n        MARKET_OPEN,\\n        MARKET_CLOSE,\\n        LIMIT_OPEN,\\n        LIMIT_CLOSE\\n    }\\n\\n    function getPrice(uint, OrderType, uint) external returns (uint);\\n\\n    function tokenPriceWETH() external view returns (uint);\\n\\n    function pairMinOpenLimitSlippageP(uint) external view returns (uint);\\n\\n    function closeFeeP(uint) external view returns (uint);\\n\\n    function linkFee(uint, uint) external view returns (uint);\\n\\n    function openFeeP(uint) external view returns (uint);\\n\\n    function pairMinLeverage(uint) external view returns (uint);\\n\\n    function pairMaxLeverage(uint) external view returns (uint);\\n\\n    function pairsCount() external view returns (uint);\\n\\n    function tokenWETHReservesLp() external view returns (uint, uint);\\n\\n    function referralP(uint) external view returns (uint);\\n\\n    function nftLimitOrderFeeP(uint) external view returns (uint);\\n\\n    function marketOrderfulfill(\\n        uint256 orderId,\\n        StorageInterface.PendingMarketOrder memory o\\n    ) external;\\n\\n    function nftOrderfulfill(\\n        uint256 orderId,\\n        StorageInterface.PendingNftOrder memory o\\n    ) external;\\n}\\n\",\"keccak256\":\"0xd37be0934daaf172a910376e79b670d554a3b28f738fd8c8ec98b59e8d86b5f5\",\"license\":\"MIT\"},\"contracts/interfaces/AggregatorInterfaceV1_4.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport \\\"./PairsStorageInterfaceV6.sol\\\";\\nimport \\\"./ChainlinkFeedInterface.sol\\\";\\nimport \\\"./StorageInterface.sol\\\";\\n\\ninterface AggregatorInterfaceV1_4 {\\n    enum OrderType {\\n        MARKET_OPEN,\\n        MARKET_CLOSE,\\n        LIMIT_OPEN,\\n        LIMIT_CLOSE\\n    }\\n\\n    function pairsStorage() external view returns (PairsStorageInterfaceV6);\\n\\n    function getPrice(uint, OrderType, uint, uint) external returns (uint);\\n\\n    function tokenPriceWETH() external returns (uint);\\n\\n    function linkFee(uint, uint) external view returns (uint);\\n\\n    function openFeeP(uint) external view returns (uint);\\n\\n    function linkPriceFeed() external view returns (ChainlinkFeedInterface);\\n\\n    function marketOrderfulfill(\\n        uint256 orderId,\\n        StorageInterface.PendingMarketOrder memory o\\n    ) external;\\n\\n    function nftOrderfulfill(\\n        uint256 orderId,\\n        StorageInterface.PendingNftOrder memory o\\n    ) external;\\n}\\n\",\"keccak256\":\"0xe1262ceffbe82c77f3adaa31d439c79a7fa1726db48a4ad68ec84f09403e197d\",\"license\":\"MIT\"},\"contracts/interfaces/BorrowingFeesInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface BorrowingFeesInterface {\\n    // Structs\\n    struct PairGroup {\\n        uint16 groupIndex;\\n        uint48 block;\\n        uint64 initialAccFeeLong; // 1e10 (%)\\n        uint64 initialAccFeeShort; // 1e10 (%)\\n        uint64 prevGroupAccFeeLong; // 1e10 (%)\\n        uint64 prevGroupAccFeeShort; // 1e10 (%)\\n        uint64 pairAccFeeLong; // 1e10 (%)\\n        uint64 pairAccFeeShort; // 1e10 (%)\\n        uint64 _placeholder; // might be useful later\\n    }\\n    struct Pair {\\n        PairGroup[] groups;\\n        uint32 feePerBlock; // 1e10 (%)\\n        uint64 accFeeLong; // 1e10 (%)\\n        uint64 accFeeShort; // 1e10 (%)\\n        uint48 accLastUpdatedBlock;\\n        uint48 feeExponent;\\n        uint lastAccBlockWeightedMarketCap; // 1e40\\n    }\\n    struct PairOi {\\n        uint72 long; // 1e10 (DAI)\\n        uint72 short; // 1e10 (DAI)\\n        uint72 max; // 1e10 (DAI)\\n        uint40 _placeholder; // might be useful later\\n    }\\n    struct Group {\\n        uint112 oiLong; // 1e10\\n        uint112 oiShort; // 1e10\\n        uint32 feePerBlock; // 1e10 (%)\\n        uint64 accFeeLong; // 1e10 (%)\\n        uint64 accFeeShort; // 1e10 (%)\\n        uint48 accLastUpdatedBlock;\\n        uint80 maxOi; // 1e10\\n        uint lastAccBlockWeightedMarketCap; // 1e40\\n    }\\n    struct InitialAccFees {\\n        uint64 accPairFee; // 1e10 (%)\\n        uint64 accGroupFee; // 1e10 (%)\\n        uint48 block;\\n        uint80 _placeholder; // might be useful later\\n    }\\n    struct PairParams {\\n        uint16 groupIndex;\\n        uint32 feePerBlock; // 1e10 (%)\\n        uint48 feeExponent;\\n        uint72 maxOi;\\n    }\\n    struct GroupParams {\\n        uint32 feePerBlock; // 1e10 (%)\\n        uint72 maxOi; // 1e10\\n        uint48 feeExponent;\\n    }\\n    struct BorrowingFeeInput {\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        bool long;\\n        uint collateral; // 1e18 (DAI)\\n        uint leverage;\\n    }\\n    struct LiqPriceInput {\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        uint openPrice; // 1e10\\n        bool long;\\n        uint collateral; // 1e18 (DAI)\\n        uint leverage;\\n    }\\n    struct PendingAccFeesInput {\\n        uint64 accFeeLong; // 1e10 (%)\\n        uint64 accFeeShort; // 1e10 (%)\\n        uint oiLong; // 1e18\\n        uint oiShort; // 1e18\\n        uint32 feePerBlock; // 1e10\\n        uint currentBlock;\\n        uint accLastUpdatedBlock;\\n        uint72 maxOi; // 1e10\\n        uint48 feeExponent;\\n    }\\n\\n    // Events\\n    event PairParamsUpdated(\\n        uint indexed pairIndex,\\n        uint16 indexed groupIndex,\\n        uint32 feePerBlock,\\n        uint48 feeExponent,\\n        uint72 maxOi\\n    );\\n    event PairGroupUpdated(\\n        uint indexed pairIndex,\\n        uint16 indexed prevGroupIndex,\\n        uint16 indexed newGroupIndex\\n    );\\n    event GroupUpdated(\\n        uint16 indexed groupIndex,\\n        uint32 feePerBlock,\\n        uint72 maxOi,\\n        uint48 feeExponent\\n    );\\n    event TradeInitialAccFeesStored(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index,\\n        uint64 initialPairAccFee,\\n        uint64 initialGroupAccFee\\n    );\\n    event TradeActionHandled(\\n        address indexed trader,\\n        uint indexed pairIndex,\\n        uint index,\\n        bool open,\\n        bool long,\\n        uint positionSizeDai // 1e18\\n    );\\n    event PairAccFeesUpdated(\\n        uint indexed pairIndex,\\n        uint currentBlock,\\n        uint64 accFeeLong,\\n        uint64 accFeeShort\\n    );\\n    event GroupAccFeesUpdated(\\n        uint16 indexed groupIndex,\\n        uint currentBlock,\\n        uint64 accFeeLong,\\n        uint64 accFeeShort\\n    );\\n    event GroupOiUpdated(\\n        uint16 indexed groupIndex,\\n        bool indexed long,\\n        bool indexed increase,\\n        uint112 amount,\\n        uint112 oiLong,\\n        uint112 oiShort\\n    );\\n\\n    // Functions\\n    function getTradeLiquidationPrice(\\n        LiqPriceInput calldata\\n    ) external view returns (uint); // PRECISION\\n\\n    function getTradeBorrowingFee(\\n        BorrowingFeeInput memory\\n    ) external view returns (uint); // 1e18 (DAI)\\n\\n    function handleTradeAction(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        uint positionSizeDai, // 1e18 (collateral * leverage)\\n        bool open,\\n        bool long\\n    ) external;\\n\\n    function withinMaxGroupOi(\\n        uint pairIndex,\\n        bool long,\\n        uint positionSizeDai\\n    ) external view returns (bool);\\n\\n    function getPairMaxOi(uint pairIndex) external view returns (uint);\\n\\n    function getTradePartialLiquidationPrice(\\n        LiqPriceInput calldata input\\n    ) external view returns (uint);\\n}\\n\",\"keccak256\":\"0x84f882f552e28e119e3cf5ca7d6b4ca663371b516c0134c4d778906da2df906c\",\"license\":\"MIT\"},\"contracts/interfaces/CallbacksInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport \\\"./StorageInterface.sol\\\";\\n\\ninterface CallbacksInterface {\\n    struct AggregatorAnswer {\\n        uint orderId;\\n        uint price;\\n        uint spreadP;\\n        uint open;\\n        uint high;\\n        uint low;\\n    }\\n\\n    // struct PendingMarketOrder {\\n    //     Trade trade;\\n    //     uint block;\\n    //     uint wantedPrice; // PRECISION\\n    //     uint slippageP; // PRECISION (%)\\n    //     uint spreadReductionP;\\n    //     uint tokenId; // index in supportedTokens\\n    // }\\n\\n    // struct Trade {\\n    //     address trader;\\n    //     uint pairIndex;\\n    //     uint index;\\n    //     uint initialPosToken; // 1e18\\n    //     uint positionSizeWETH; // 1e18\\n    //     uint openPrice; // PRECISION\\n    //     bool buy;\\n    //     uint leverage;\\n    //     uint tp; // PRECISION\\n    //     uint sl; // PRECISION\\n    // }\\n\\n    function openTradeMarketCallback(\\n        AggregatorAnswer memory a,\\n        StorageInterface.PendingMarketOrder memory o\\n    ) external;\\n\\n    function closeTradeMarketCallback(\\n        AggregatorAnswer memory a,\\n        StorageInterface.PendingMarketOrder memory o\\n    ) external;\\n\\n    function executeNftOpenOrderCallback(\\n        AggregatorAnswer memory a,\\n        StorageInterface.PendingNftOrder memory o\\n    ) external;\\n\\n    function executeNftCloseOrderCallback(\\n        AggregatorAnswer memory,\\n        StorageInterface.PendingNftOrder memory o\\n    ) external;\\n\\n    function getTradePnl(\\n        address trader,\\n        uint pairIndex,\\n        uint index\\n    ) external view returns (int256 pnl);\\n}\\n\",\"keccak256\":\"0x2367267b4c5a9f5f8d526171c3dd091862ce122d990ed73d6dd37d78ce4a344d\",\"license\":\"MIT\"},\"contracts/interfaces/ChainlinkFeedInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface ChainlinkFeedInterface {\\n    function latestRoundData()\\n        external\\n        view\\n        returns (uint80, int, uint, uint, uint80);\\n}\\n\",\"keccak256\":\"0x962ad22f47fc0a2fd3dfb883bf7780de5ed85c2bf33edd0968a1a35d9e62d21c\",\"license\":\"MIT\"},\"contracts/interfaces/IArbSys.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.4.21 <0.9.0;\\n\\n/**\\n * @title Precompiled contract that exists in every Arbitrum chain at address(100), 0x0000000000000000000000000000000000000064. Exposes a variety of system-level functionality.\\n */\\ninterface IArbSys {\\n    /**\\n     * @notice Get internal version number identifying an ArbOS build\\n     * @return version number as int\\n     */\\n    function arbOSVersion() external pure returns (uint);\\n\\n    function arbChainID() external view returns (uint);\\n\\n    /**\\n     * @notice Get Arbitrum block number (distinct from L1 block number; Arbitrum genesis block has block number 0)\\n     * @return block number as int\\n     */\\n    function arbBlockNumber() external view returns (uint);\\n\\n    /**\\n     * @notice Send given amount of Eth to dest from sender.\\n     * This is a convenience function, which is equivalent to calling sendTxToL1 with empty calldataForL1.\\n     * @param destination recipient address on L1\\n     * @return unique identifier for this L2-to-L1 transaction.\\n     */\\n    function withdrawEth(address destination) external payable returns (uint);\\n\\n    /**\\n     * @notice Send a transaction to L1\\n     * @param destination recipient address on L1\\n     * @param calldataForL1 (optional) calldata for L1 contract call\\n     * @return a unique identifier for this L2-to-L1 transaction.\\n     */\\n    function sendTxToL1(address destination, bytes calldata calldataForL1) external payable returns (uint);\\n\\n    /**\\n     * @notice get the number of transactions issued by the given external account or the account sequence number of the given contract\\n     * @param account target account\\n     * @return the number of transactions issued by the given external account or the account sequence number of the given contract\\n     */\\n    function getTransactionCount(address account) external view returns (uint256);\\n\\n    /**\\n     * @notice get the value of target L2 storage slot\\n     * This function is only callable from address 0 to prevent contracts from being able to call it\\n     * @param account target account\\n     * @param index target index of storage slot\\n     * @return stotage value for the given account at the given index\\n     */\\n    function getStorageAt(address account, uint256 index) external view returns (uint256);\\n\\n    /**\\n     * @notice check if current call is coming from l1\\n     * @return true if the caller of this was called directly from L1\\n     */\\n    function isTopLevelCall() external view returns (bool);\\n\\n    /**\\n     * @notice check if the caller (of this caller of this) is an aliased L1 contract address\\n     * @return true iff the caller's address is an alias for an L1 contract address\\n     */\\n    function wasMyCallersAddressAliased() external view returns (bool);\\n\\n    /**\\n     * @notice return the address of the caller (of this caller of this), without applying L1 contract address aliasing\\n     * @return address of the caller's caller, without applying L1 contract address aliasing\\n     */\\n    function myCallersAddressWithoutAliasing() external view returns (address);\\n\\n    /**\\n     * @notice map L1 sender contract address to its L2 alias\\n     * @param sender sender address\\n     * @param dest destination address\\n     * @return aliased sender address\\n     */\\n    function mapL1SenderContractAddressToL2Alias(address sender, address dest) external pure returns (address);\\n\\n    /**\\n     * @notice get the caller's amount of available storage gas\\n     * @return amount of storage gas available to the caller\\n     */\\n    function getStorageGasAvailable() external view returns (uint);\\n\\n    event L2ToL1Transaction(\\n        address caller,\\n        address indexed destination,\\n        uint indexed uniqueId,\\n        uint indexed batchNumber,\\n        uint indexInBatch,\\n        uint arbBlockNum,\\n        uint ethBlockNum,\\n        uint timestamp,\\n        uint callvalue,\\n        bytes data\\n    );\\n}\",\"keccak256\":\"0xce4af00225a25d02f66a33be0a71c3b3e4e462981c1c5087a7069d7ec84086b7\",\"license\":\"MIT\"},\"contracts/interfaces/IOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface IOracle {\\n    function getPrice(\\n        uint256 tokenIndex\\n    ) external view returns (uint256 price, uint256 lastupdateTime);\\n\\n    function getFundingFee(\\n        uint256 tokenIndex\\n    ) external view returns (uint256 fee);\\n}\\n\",\"keccak256\":\"0x4d3908114968a30bdbfae459ab2b3e842053fa0f08490ad50744cc3df3c1f439\",\"license\":\"MIT\"},\"contracts/interfaces/IToken.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface IToken {\\n    function manager() external view returns (address);\\n\\n    function admin() external view returns (address);\\n\\n    function currentEpoch() external view returns (uint);\\n\\n    function currentEpochStart() external view returns (uint);\\n\\n    function currentEpochPositiveOpenPnl() external view returns (uint);\\n\\n    function updateAccPnlPerTokenUsed(\\n        uint prevPositiveOpenPnl,\\n        uint newPositiveOpenPnl\\n    ) external returns (uint);\\n\\n    struct LockedDeposit {\\n        address owner;\\n        uint shares; // 1e18\\n        uint assetsDeposited; // 1e18\\n        uint assetsDiscount; // 1e18\\n        uint atTimestamp; // timestamp\\n        uint lockDuration; // timestamp\\n    }\\n\\n    function getLockedDeposit(\\n        uint depositId\\n    ) external view returns (LockedDeposit memory);\\n\\n    function sendAssets(uint assets, address receiver) external;\\n\\n    function receiveAssets(uint assets, address user) external;\\n\\n    function distributeReward(uint assets) external;\\n\\n    function currentBalanceWETH() external view returns (uint);\\n\\n    function tvl() external view returns (uint);\\n\\n    function marketCap() external view returns (uint);\\n\\n    function getPendingAccBlockWeightedMarketCap(\\n        uint currentBlock\\n    ) external view returns (uint);\\n}\\n\",\"keccak256\":\"0x4cf9781a0df06a546607997f12d5d984942657e9eb908229ef5f7f6d5b2bd385\",\"license\":\"MIT\"},\"contracts/interfaces/NFTRewardInterfaceV6_3.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport \\\"./StorageInterface.sol\\\";\\n\\ninterface NftRewardsInterfaceV6_3_1 {\\n    struct TriggeredLimitId {\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        StorageInterface.LimitOrder order;\\n    }\\n    enum OpenLimitOrderType {\\n        LEGACY,\\n        REVERSAL,\\n        MOMENTUM\\n    }\\n\\n    function storeFirstToTrigger(\\n        TriggeredLimitId calldata,\\n        address,\\n        uint\\n    ) external;\\n\\n    function storeTriggerSameBlock(TriggeredLimitId calldata, address) external;\\n\\n    function unregisterTrigger(TriggeredLimitId calldata) external;\\n\\n    function distributeNftReward(\\n        TriggeredLimitId calldata,\\n        uint,\\n        uint\\n    ) external;\\n\\n    function openLimitOrderTypes(\\n        address,\\n        uint,\\n        uint\\n    ) external view returns (OpenLimitOrderType);\\n\\n    function setOpenLimitOrderType(\\n        address,\\n        uint,\\n        uint,\\n        OpenLimitOrderType\\n    ) external;\\n\\n    function triggered(TriggeredLimitId calldata) external view returns (bool);\\n\\n    function timedOut(TriggeredLimitId calldata) external view returns (bool);\\n\\n    function botInUse(bytes32) external view returns (bool);\\n\\n    function getNftBotHashes(\\n        uint,\\n        address,\\n        uint,\\n        address,\\n        uint,\\n        uint\\n    ) external pure returns (bytes32, bytes32);\\n\\n    function setNftBotInUse(bytes32, bytes32) external;\\n\\n    function nftBotInUse(bytes32, bytes32) external view returns (bool);\\n\\n    function linkToTokenRewards(uint, uint) external view returns (uint);\\n}\\n\",\"keccak256\":\"0x288bab95d6c77a7f1423aaddd843ae8f1ce32f3dbd5a369d2980064dfb549701\",\"license\":\"MIT\"},\"contracts/interfaces/NftInterfaceV5.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface NftInterfaceV5 {\\n    function balanceOf(address) external view returns (uint);\\n\\n    function ownerOf(uint) external view returns (address);\\n\\n    function transferFrom(address, address, uint) external;\\n\\n    function tokenOfOwnerByIndex(address, uint) external view returns (uint);\\n}\\n\",\"keccak256\":\"0xbd69c374c647aab1dce1c1b73e891823446281e9de4c7aea1c019d6979e2b5b0\",\"license\":\"MIT\"},\"contracts/interfaces/PairInfosInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface PairInfosInterface {\\n    // Trade initial acc fees\\n    struct TradeInitialAccFees {\\n        uint rollover; // 1e18 (DAI)\\n        int funding; // 1e18 (DAI)\\n        bool openedAfterUpdate;\\n    }\\n\\n    function tradeInitialAccFees(\\n        address,\\n        uint,\\n        uint\\n    ) external view returns (TradeInitialAccFees memory);\\n\\n    function maxNegativePnlOnOpenP() external view returns (uint); // PRECISION (%)\\n\\n    function storeTradeInitialAccFees(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        bool long\\n    ) external;\\n\\n    function getTradePriceImpact(\\n        uint openPrice, // PRECISION\\n        uint pairIndex,\\n        bool long,\\n        uint openInterest // 1e18 (DAI)\\n    )\\n        external\\n        view\\n        returns (\\n            uint priceImpactP, // PRECISION (%)\\n            uint priceAfterImpact // PRECISION\\n        );\\n\\n    function getTradeRolloverFee(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        uint collateral // 1e18 (DAI)\\n    ) external view returns (uint);\\n\\n    function getTradeFundingFee(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        bool long,\\n        uint collateral, // 1e18 (DAI)\\n        uint leverage\\n    )\\n        external\\n        view\\n        returns (\\n            int // 1e18 (DAI) | Positive => Fee, Negative => Reward\\n        );\\n\\n    function getTradeLiquidationPricePure(\\n        uint openPrice, // PRECISION\\n        bool long,\\n        uint collateral, // 1e18 (DAI)\\n        uint leverage,\\n        uint rolloverFee, // 1e18 (DAI)\\n        int fundingFee // 1e18 (DAI)\\n    ) external pure returns (uint);\\n\\n    function getTradeLiquidationPrice(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        uint openPrice, // PRECISION\\n        bool long,\\n        uint collateral, // 1e18 (DAI)\\n        uint leverage\\n    ) external view returns (uint); // PRECISION\\n\\n    function getTradeValue(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        bool long,\\n        uint collateral, // 1e18 (DAI)\\n        uint leverage,\\n        int percentProfit, // PRECISION (%)\\n        uint closingFee // 1e18 (DAI)\\n    ) external returns (uint); // 1e18 (DAI)\\n\\n    function manager() external view returns (address);\\n\\n    function getTradeValuePure(\\n        uint collateral, // 1e18 (WETH)\\n        int percentProfit, // PRECISION (%)\\n        uint rolloverFee, // 1e18 (WETH)\\n        int fundingFee, // 1e18 (WETH)\\n        uint closingFee // 1e18 (WETH)\\n    ) external view returns (uint);\\n\\n    function getTradePartialLiquidationPrice(\\n        uint openPrice, // PRECISION\\n        bool long,\\n        uint collateral, // 1e18 (DAI)\\n        uint leverage,\\n        uint rolloverFee, // 1e18 (DAI)\\n        int fundingFee // 1e18 (DAI)\\n    ) external pure returns (uint);\\n}\\n\",\"keccak256\":\"0x88ed59116f2d558c2e829c9f8b15d105151d8738e07f579a7475892dd024db47\",\"license\":\"MIT\"},\"contracts/interfaces/PairsStorageInterfaceV6.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface PairsStorageInterfaceV6 {\\n    enum FeedCalculation {\\n        DEFAULT,\\n        INVERT,\\n        COMBINE\\n    } // FEED 1, 1 / (FEED 1), (FEED 1)/(FEED 2)\\n    struct Feed {\\n        address feed1;\\n        address feed2;\\n        FeedCalculation feedCalculation;\\n        uint maxDeviationP;\\n    } // PRECISION (%)\\n\\n    function incrementCurrentOrderId() external returns (uint);\\n\\n    function updateGroupCollateral(uint, uint, bool, bool) external;\\n\\n    function pairJob(\\n        uint\\n    ) external returns (string memory, string memory, bytes32, uint);\\n\\n    function pairFeed(uint) external view returns (Feed memory);\\n\\n    function pairSpreadP(uint) external view returns (uint);\\n\\n    function pairMinLeverage(uint) external view returns (uint);\\n\\n    function pairMaxLeverage(uint) external view returns (uint);\\n\\n    function groupMaxCollateral(uint) external view returns (uint);\\n\\n    function groupCollateral(uint, bool) external view returns (uint);\\n\\n    function guaranteedSlEnabled(uint) external view returns (bool);\\n\\n    function pairOpenFeeP(uint) external view returns (uint);\\n\\n    function pairCloseFeeP(uint) external view returns (uint);\\n\\n    function pairOracleFeeP(uint) external view returns (uint);\\n\\n    function pairNftLimitOrderFeeP(uint) external view returns (uint);\\n\\n    function pairReferralFeeP(uint) external view returns (uint);\\n\\n    function pairMinLevPosWETH(uint) external view returns (uint);\\n\\n    function pairsCount() external view returns (uint);\\n}\\n\",\"keccak256\":\"0xfd1102a637e83931602623fcb549c8eee8460402473b62d8f13ab4a928458b38\",\"license\":\"MIT\"},\"contracts/interfaces/PausableInterfaceV5.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport {StorageInterface} from \\\"./StorageInterface.sol\\\";\\n\\ninterface PausableInterfaceV5 {\\n    function isPaused() external view returns (bool);\\n\\n    function isTradeParLiquidatablePure(\\n        StorageInterface.Trade memory t\\n    ) external view returns (bool, bool);\\n\\n    function isTradeLiquidatablePure(\\n        StorageInterface.Trade memory t\\n    ) external view returns (bool, bool);\\n\\n    function executeLiquidations(\\n        uint[100] memory _orderTypes,\\n        address[100] memory traders,\\n        uint[100] memory pairIndexs,\\n        uint[100] memory indexs,\\n        uint256 index\\n    ) external;\\n}\\n\",\"keccak256\":\"0x55c2a6ee9966a39778140bab34fd12c4467471ff2b63c1bed7856de3abc196b7\",\"license\":\"MIT\"},\"contracts/interfaces/ReferralsInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface ReferralsInterface {\\n    function registerPotentialReferrer(\\n        address trader,\\n        address referral\\n    ) external;\\n\\n    function distributePotentialReward(\\n        address trader,\\n        uint volumeWETH,\\n        uint pairOpenFeeP,\\n        uint tokenPriceWETH\\n    ) external returns (uint);\\n\\n    function getPercentOfOpenFeeP(address trader) external view returns (uint);\\n\\n    function getTraderReferrer(\\n        address trader\\n    ) external view returns (address referrer);\\n}\\n\",\"keccak256\":\"0xf190cc5a8e2a88aef673fbea23fdb929891c75fd06c5cf3d3a3fd4e788bae576\",\"license\":\"MIT\"},\"contracts/interfaces/StorageInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport \\\"./TokenInterface.sol\\\";\\nimport \\\"./NftInterfaceV5.sol\\\";\\nimport \\\"./IToken.sol\\\";\\nimport \\\"./AggregatorInterfaceV1.sol\\\";\\nimport \\\"./IOracle.sol\\\";\\nimport \\\"./PausableInterfaceV5.sol\\\";\\n\\ninterface StorageInterface {\\n    enum LimitOrder {\\n        TP,\\n        SL,\\n        LIQ,\\n        OPEN,\\n        PAR_LIQ\\n    }\\n    struct Trade {\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        uint initialPosToken; // 1e18\\n        uint positionSizeWETH; // 1e18\\n        uint openPrice; // PRECISION\\n        bool buy;\\n        uint leverage;\\n        uint tp; // PRECISION\\n        uint sl; // PRECISION\\n    }\\n    struct TradeInfo {\\n        uint tokenId;\\n        uint tokenPriceWETH; // PRECISION\\n        uint openInterestWETH; // 1e18\\n        uint tpLastUpdated;\\n        uint slLastUpdated;\\n        bool beingMarketClosed;\\n    }\\n    struct OpenLimitOrder {\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        uint positionSize; // 1e18 (WETH or GFARM2)\\n        uint spreadReductionP;\\n        bool buy;\\n        uint leverage;\\n        uint tp; // PRECISION (%)\\n        uint sl; // PRECISION (%)\\n        uint minPrice; // PRECISION\\n        uint maxPrice; // PRECISION\\n        uint block;\\n        uint tokenId; // index in supportedTokens\\n    }\\n    struct PendingMarketOrder {\\n        Trade trade;\\n        uint block;\\n        uint wantedPrice; // PRECISION\\n        uint slippageP; // PRECISION (%)\\n        uint spreadReductionP;\\n        uint tokenId; // index in supportedTokens\\n    }\\n    struct PendingNftOrder {\\n        address nftHolder;\\n        uint nftId;\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        LimitOrder orderType;\\n    }\\n\\n    event OpenningInterestUpated(\\n        uint256 indexed pairIndex,\\n        uint256 indexed openingInterestShort,\\n        uint256 indexed openingInterestLong\\n    );\\n\\n    event TradeOpen(Trade t);\\n\\n    event TradeClose(Trade t);\\n\\n    function PRECISION() external pure returns (uint);\\n\\n    function gov() external view returns (address);\\n\\n    function dev() external view returns (address);\\n\\n    function WETH() external view returns (TokenInterface);\\n\\n    function token() external view returns (TokenInterface);\\n\\n    function linkErc677() external view returns (TokenInterface);\\n\\n    function priceAggregator() external view returns (AggregatorInterfaceV1);\\n\\n    function vault() external view returns (address);\\n\\n    function trading() external view returns (PausableInterfaceV5);\\n\\n    function callbacks() external view returns (PausableInterfaceV5);\\n\\n    function handleTokens(address, uint, bool) external;\\n\\n    function transferWETH(address, address, uint) external;\\n\\n    function transferLinkToAggregator(address, uint, uint) external;\\n\\n    function unregisterTrade(address, uint, uint) external;\\n\\n    function unregisterPendingMarketOrder(uint, bool) external;\\n\\n    function unregisterOpenLimitOrder(address, uint, uint) external;\\n\\n    function hasOpenLimitOrder(\\n        address,\\n        uint,\\n        uint\\n    ) external view returns (bool);\\n\\n    function storePendingMarketOrder(\\n        PendingMarketOrder memory,\\n        uint,\\n        bool\\n    ) external;\\n\\n    function getOpenTrades(\\n        address,\\n        uint,\\n        uint\\n    ) external view returns (Trade memory);\\n\\n    function getOpenTradesInfo(\\n        address,\\n        uint,\\n        uint\\n    ) external view returns (TradeInfo memory);\\n\\n    function updateSl(address, uint, uint, uint) external;\\n\\n    function updateTp(address, uint, uint, uint) external;\\n\\n    function getOpenLimitOrder(\\n        address,\\n        uint,\\n        uint\\n    ) external view returns (OpenLimitOrder memory);\\n\\n    function spreadReductionsP(uint) external view returns (uint);\\n\\n    function storeOpenLimitOrder(OpenLimitOrder memory) external;\\n\\n    function getPendingMarketOrder(\\n        uint\\n    ) external view returns (PendingMarketOrder memory);\\n\\n    function storePendingNftOrder(PendingNftOrder memory, uint) external;\\n\\n    function updateOpenLimitOrder(OpenLimitOrder calldata) external;\\n\\n    function firstEmptyTradeIndex(address, uint) external view returns (uint);\\n\\n    function firstEmptyOpenLimitIndex(\\n        address,\\n        uint\\n    ) external view returns (uint);\\n\\n    function increaseNftRewards(uint, uint) external;\\n\\n    function nftSuccessTimelock() external view returns (uint);\\n\\n    function getPendingNftOrder(\\n        uint\\n    ) external view returns (PendingNftOrder memory);\\n\\n    function updateTrade(Trade memory) external;\\n\\n    function nftLastSuccess(uint) external view returns (uint);\\n\\n    function unregisterPendingNftOrder(uint) external;\\n\\n    function handleDevGovFees(uint, uint, bool, bool) external returns (uint);\\n\\n    function distributeLpRewards(uint) external;\\n\\n    function storeTrade(Trade memory, TradeInfo memory) external;\\n\\n    function openLimitOrdersCount(address, uint) external view returns (uint);\\n\\n    function openTradesCount(address, uint) external view returns (uint);\\n\\n    function pendingMarketOpenCount(address, uint) external view returns (uint);\\n\\n    function pendingMarketCloseCount(\\n        address,\\n        uint\\n    ) external view returns (uint);\\n\\n    function maxSlP() external view returns (uint);\\n\\n    function maxTradesPerPair() external view returns (uint);\\n\\n    function pendingOrderIdsCount(address) external view returns (uint);\\n\\n    function maxPendingMarketOrders() external view returns (uint);\\n\\n    function openInterestWETH(uint, uint) external view returns (uint);\\n\\n    function getPendingOrderIds(address) external view returns (uint[] memory);\\n\\n    function nfts(uint) external view returns (NftInterfaceV5);\\n\\n    // function fakeBlockNumber() external view returns (uint); // Testing\\n\\n    function getGov() external view returns (address); // checking\\n\\n    function mintWETH(address _to, uint _amount) external;\\n\\n    function oracle() external view returns (IOracle);\\n\\n    function getLiquidatableTrades()\\n        external\\n        view\\n        returns (\\n            uint[100] memory _orderTypes,\\n            address[100] memory traders,\\n            uint[100] memory pairIndexs,\\n            uint[100] memory indexs,\\n            uint256 index\\n        );\\n}\\n\",\"keccak256\":\"0x1c663753469a5f1200a1fa45968ad4d6063ad6130ec46585d00fe5c1b75d25ea\",\"license\":\"MIT\"},\"contracts/interfaces/TokenInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface TokenInterface {\\n    function burn(address, uint256) external;\\n\\n    function mint(address, uint256) external;\\n\\n    function transfer(address, uint256) external returns (bool);\\n\\n    function transferFrom(address, address, uint256) external returns (bool);\\n\\n    function balanceOf(address) external view returns (uint256);\\n\\n    function hasRole(bytes32, address) external view returns (bool);\\n\\n    function approve(address, uint256) external returns (bool);\\n\\n    function allowance(address, address) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0x5b6f3ec1152b61791df030a08f58bb579f7e689138bb45b62925c8e07f986710\",\"license\":\"MIT\"},\"contracts/interfaces/TradingCallbacksInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\ninterface TradingCallbacksInterface {\\n    enum TradeType {\\n        MARKET,\\n        LIMIT\\n    }\\n    struct SimplifiedTradeId {\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        TradeType tradeType;\\n    }\\n    struct LastUpdated {\\n        uint32 tp;\\n        uint32 sl;\\n        uint32 limit;\\n        uint32 created;\\n    }\\n    struct TradeData {\\n        uint40 maxSlippageP; // 1e10 (%)\\n        uint216 _placeholder; // for potential future data\\n    }\\n\\n    function tradeLastUpdated(\\n        address,\\n        uint,\\n        uint,\\n        TradeType\\n    ) external view returns (LastUpdated memory);\\n\\n    function setTradeLastUpdated(\\n        SimplifiedTradeId calldata,\\n        LastUpdated memory\\n    ) external;\\n\\n    function setTradeData(\\n        SimplifiedTradeId calldata,\\n        TradeData memory\\n    ) external;\\n\\n    function canExecuteTimeout() external view returns (uint);\\n\\n    function pairMaxLeverage(uint) external view returns (uint);\\n}\\n\",\"keccak256\":\"0x505c78ea6e1a9c1e5ac1db10f8bf14ba037a0433240d506e718af9f783907e8b\",\"license\":\"MIT\"},\"contracts/libraries/ChainUtils.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport \\\"../interfaces/IArbSys.sol\\\";\\n\\nlibrary ChainUtils {\\n    uint256 public constant ARBITRUM_MAINNET = 42161;\\n    uint256 public constant ARBITRUM_GOERLI = 421613;\\n    uint256 public constant ARBITRUM_SEPOLIA = 421614;\\n\\n    IArbSys public constant ARB_SYS = IArbSys(address(100));\\n\\n    function getBlockNumber() internal view returns (uint) {\\n        if (\\n            block.chainid == ARBITRUM_MAINNET ||\\n            block.chainid == ARBITRUM_GOERLI ||\\n            block.chainid == ARBITRUM_SEPOLIA\\n        ) {\\n            return ARB_SYS.arbBlockNumber();\\n        }\\n\\n        return block.number;\\n    }\\n\\n    function getUint48BlockNumber(\\n        uint blockNumber\\n    ) internal pure returns (uint48) {\\n        require(blockNumber <= type(uint48).max, \\\"OVERFLOW\\\");\\n        return uint48(blockNumber);\\n    }\\n}\\n\",\"keccak256\":\"0x6460e9682fe354101549dfdda561681c6cc95a52f3a4c22364eafbf44b0c087e\",\"license\":\"MIT\"},\"contracts/libraries/PackingUtils.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nlibrary PackingUtils {\\n    function pack(\\n        uint256[] memory values,\\n        uint256[] memory bitLengths\\n    ) external pure returns (uint256 packed) {\\n        require(\\n            values.length == bitLengths.length,\\n            \\\"Mismatch in the lengths of values and bitLengths arrays\\\"\\n        );\\n\\n        uint256 currentShift;\\n\\n        for (uint256 i; i < values.length; i++) {\\n            require(\\n                currentShift + bitLengths[i] <= 256,\\n                \\\"Packed value exceeds 256 bits\\\"\\n            );\\n\\n            uint256 maxValue = (1 << bitLengths[i]) - 1;\\n            require(\\n                values[i] <= maxValue,\\n                \\\"Value too large for specified bit length\\\"\\n            );\\n\\n            uint256 maskedValue = values[i] & maxValue;\\n            packed |= maskedValue << currentShift;\\n            currentShift += bitLengths[i];\\n        }\\n    }\\n\\n    function unpack(\\n        uint256 packed,\\n        uint256[] memory bitLengths\\n    ) external pure returns (uint256[] memory values) {\\n        values = new uint256[](bitLengths.length);\\n\\n        uint256 currentShift;\\n        for (uint256 i; i < bitLengths.length; i++) {\\n            require(\\n                currentShift + bitLengths[i] <= 256,\\n                \\\"Unpacked value exceeds 256 bits\\\"\\n            );\\n\\n            uint256 maxValue = (1 << bitLengths[i]) - 1;\\n            uint256 mask = maxValue << currentShift;\\n            values[i] = (packed & mask) >> currentShift;\\n\\n            currentShift += bitLengths[i];\\n        }\\n    }\\n\\n    function unpack256To64(\\n        uint256 packed\\n    ) external pure returns (uint64 a, uint64 b, uint64 c, uint64 d) {\\n        a = uint64(packed);\\n        b = uint64(packed >> 64);\\n        c = uint64(packed >> 128);\\n        d = uint64(packed >> 192);\\n    }\\n\\n    // Function-specific unpacking utils\\n    function unpackExecuteNftOrder(\\n        uint256 packed\\n    )\\n        external\\n        pure\\n        returns (\\n            uint256 a,\\n            address b,\\n            uint256 c,\\n            uint256 d,\\n            uint256 e,\\n            uint256 f\\n        )\\n    {\\n        a = packed & 0xFF; // 8 bits\\n        b = address(uint160(packed >> 8)); // 160 bits\\n        c = (packed >> 168) & 0xFFFF; // 16 bits\\n        d = (packed >> 184) & 0xFFFF; // 16 bits\\n        e = (packed >> 200) & 0xFFFF; // 16 bits\\n        f = (packed >> 216) & 0xFFFF; // 16 bits\\n    }\\n}\\n\",\"keccak256\":\"0x600b1930583ab2ab8201912d367d1051844b2bd3a654f51bf329cc63aa854e2d\",\"license\":\"MIT\"},\"contracts/libraries/TradeUtils.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.23;\\n\\nimport \\\"../interfaces/StorageInterface.sol\\\";\\nimport \\\"../interfaces/TradingCallbacksInterface.sol\\\";\\n\\nlibrary TradeUtils {\\n    function _getTradeLastUpdated(\\n        address _callbacks,\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        TradingCallbacksInterface.TradeType _type\\n    )\\n        internal\\n        view\\n        returns (\\n            TradingCallbacksInterface,\\n            TradingCallbacksInterface.LastUpdated memory,\\n            TradingCallbacksInterface.SimplifiedTradeId memory\\n        )\\n    {\\n        TradingCallbacksInterface callbacks = TradingCallbacksInterface(\\n            _callbacks\\n        );\\n        TradingCallbacksInterface.LastUpdated memory l = callbacks\\n            .tradeLastUpdated(trader, pairIndex, index, _type);\\n\\n        return (\\n            callbacks,\\n            l,\\n            TradingCallbacksInterface.SimplifiedTradeId(\\n                trader,\\n                pairIndex,\\n                index,\\n                _type\\n            )\\n        );\\n    }\\n\\n    function setTradeLastUpdated(\\n        address _callbacks,\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        TradingCallbacksInterface.TradeType _type,\\n        uint blockNumber\\n    ) external {\\n        uint32 b = uint32(blockNumber);\\n        TradingCallbacksInterface callbacks = TradingCallbacksInterface(\\n            _callbacks\\n        );\\n        callbacks.setTradeLastUpdated(\\n            TradingCallbacksInterface.SimplifiedTradeId(\\n                trader,\\n                pairIndex,\\n                index,\\n                _type\\n            ),\\n            TradingCallbacksInterface.LastUpdated(b, b, b, b)\\n        );\\n    }\\n\\n    function setSlLastUpdated(\\n        address _callbacks,\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        TradingCallbacksInterface.TradeType _type,\\n        uint blockNumber\\n    ) external {\\n        (\\n            TradingCallbacksInterface callbacks,\\n            TradingCallbacksInterface.LastUpdated memory l,\\n            TradingCallbacksInterface.SimplifiedTradeId memory id\\n        ) = _getTradeLastUpdated(_callbacks, trader, pairIndex, index, _type);\\n\\n        l.sl = uint32(blockNumber);\\n        callbacks.setTradeLastUpdated(id, l);\\n    }\\n\\n    function setTpLastUpdated(\\n        address _callbacks,\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        TradingCallbacksInterface.TradeType _type,\\n        uint blockNumber\\n    ) external {\\n        (\\n            TradingCallbacksInterface callbacks,\\n            TradingCallbacksInterface.LastUpdated memory l,\\n            TradingCallbacksInterface.SimplifiedTradeId memory id\\n        ) = _getTradeLastUpdated(_callbacks, trader, pairIndex, index, _type);\\n\\n        l.tp = uint32(blockNumber);\\n        callbacks.setTradeLastUpdated(id, l);\\n    }\\n\\n    function isTpInTimeout(\\n        address _callbacks,\\n        TradingCallbacksInterface.SimplifiedTradeId memory id,\\n        uint currentBlock\\n    ) external view returns (bool) {\\n        (\\n            TradingCallbacksInterface callbacks,\\n            TradingCallbacksInterface.LastUpdated memory l,\\n\\n        ) = _getTradeLastUpdated(\\n                _callbacks,\\n                id.trader,\\n                id.pairIndex,\\n                id.index,\\n                id.tradeType\\n            );\\n\\n        return currentBlock < uint256(l.tp) + callbacks.canExecuteTimeout();\\n    }\\n\\n    function isSlInTimeout(\\n        address _callbacks,\\n        TradingCallbacksInterface.SimplifiedTradeId memory id,\\n        uint currentBlock\\n    ) external view returns (bool) {\\n        (\\n            TradingCallbacksInterface callbacks,\\n            TradingCallbacksInterface.LastUpdated memory l,\\n\\n        ) = _getTradeLastUpdated(\\n                _callbacks,\\n                id.trader,\\n                id.pairIndex,\\n                id.index,\\n                id.tradeType\\n            );\\n\\n        return currentBlock < uint256(l.sl) + callbacks.canExecuteTimeout();\\n    }\\n\\n    function isLimitInTimeout(\\n        address _callbacks,\\n        TradingCallbacksInterface.SimplifiedTradeId memory id,\\n        uint currentBlock\\n    ) external view returns (bool) {\\n        (\\n            TradingCallbacksInterface callbacks,\\n            TradingCallbacksInterface.LastUpdated memory l,\\n\\n        ) = _getTradeLastUpdated(\\n                _callbacks,\\n                id.trader,\\n                id.pairIndex,\\n                id.index,\\n                id.tradeType\\n            );\\n\\n        return currentBlock < uint256(l.limit) + callbacks.canExecuteTimeout();\\n    }\\n\\n    function setTradeData(\\n        address _callbacks,\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        TradingCallbacksInterface.TradeType _type,\\n        uint maxSlippageP\\n    ) external {\\n        require(maxSlippageP <= type(uint40).max, \\\"OVERFLOW\\\");\\n        TradingCallbacksInterface callbacks = TradingCallbacksInterface(\\n            _callbacks\\n        );\\n        callbacks.setTradeData(\\n            TradingCallbacksInterface.SimplifiedTradeId(\\n                trader,\\n                pairIndex,\\n                index,\\n                _type\\n            ),\\n            TradingCallbacksInterface.TradeData(uint40(maxSlippageP), 0)\\n        );\\n    }\\n}\\n\",\"keccak256\":\"0x26af226fefeccc1304752e1d14b4672b18340a102c33a9c191e4831f7626befd\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5061441e806100206000396000f3fe608060405234801561001057600080fd5b50600436106101af5760003560e01c8063870f91d9116100ef578063b354169911610092578063b3541699146103a6578063b81bfa05146103b9578063be73fb99146103cc578063bffe3486146103df578063ca5eb5e114610408578063d3dc75391461041b578063d8defd151461042e578063ff22dcac1461044157600080fd5b8063870f91d9146103175780638f0622271461033a5780639a10cc321461034c5780639a54adba1461036c578063a2a3c0cb14610375578063ae8421e114610388578063b187bd2614610390578063b1dfd5301461039d57600080fd5b806336fb8b151161015757806336fb8b151461026057806340b6159714610282578063410c0b7c146102ac578063531cc965146102c35780635ad9f993146102d657806368cd5088146102e95780636b5bd974146102fc5780638456cb591461030f57600080fd5b8062b12783146101b4578063090efc3b146101e4578063119df25f146101f95780631346b0ff1461020157806316fff0741461021457806318967f2214610227578063192a48f51461023a5780632c1e4e551461024d575b600080fd5b6007546101c7906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6101f76101f236600461378a565b610454565b005b6101c76106b6565b6004546101c7906001600160a01b031681565b6002546101c7906001600160a01b031681565b6101f761023536600461382b565b6106de565b6101f7610248366004613854565b610742565b6101f761025b36600461382b565b610f95565b6101f733600090815260208190526040902080546001600160a01b0319169055565b6102956102903660046139b4565b611016565b6040805192151583529015156020830152016101db565b6102b560095481565b6040519081526020016101db565b6006546101c7906001600160a01b031681565b6003546101c7906001600160a01b031681565b6101f76102f73660046139d1565b611319565b61029561030a3660046139b4565b611f3d565b6101f761217e565b61032a610325366004613a1e565b6121d4565b60405190151581526020016101db565b600b5461032a90610100900460ff1681565b61035f61035a366004613a53565b612377565b6040516101db9190613b28565b6102b5600a5481565b6101f7610383366004613b3b565b6124b2565b6101f7612a00565b600b5461032a9060ff1681565b6102b560085481565b6101f76103b4366004613bae565b612a60565b6101f76103c736600461382b565b612aea565b6101f76103da366004613c58565b612b74565b6101c76103ed366004613c84565b6000602081905290815260409020546001600160a01b031681565b6101f7610416366004613c84565b612e85565b6005546101c7906001600160a01b031681565b6101f761043c366004613c58565b612ef1565b61032a61044f366004613a1e565b61315b565b600154600160a81b900460ff161580801561047a575060018054600160a01b900460ff16105b8061049a5750303b15801561049a575060018054600160a01b900460ff16145b6105025760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b60648201526084015b60405180910390fd5b6001805460ff60a01b1916600160a01b179055801561052f576001805460ff60a81b1916600160a81b1790555b6001600160a01b038a161580159061054f57506001600160a01b03891615155b801561056357506001600160a01b03881615155b801561057757506001600160a01b03871615155b801561058b57506001600160a01b03861615155b801561059f57506001600160a01b03851615155b80156105ab5750600084115b80156105b75750600083115b6105f25760405162461bcd60e51b815260206004820152600c60248201526b57524f4e475f504152414d5360a01b60448201526064016104f9565b600280546001600160a01b03199081166001600160a01b038d8116919091179092556003805482168c84161790556004805482168b84161790556005805482168a84161790556006805482168984161790556008869055600985905560078054909116918716919091179055600a82905580156106aa576001805460ff60a81b191681556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50505050505050505050565b6001546000906001600160a01b03166106ce57503390565b506001546001600160a01b031690565b6106e661320f565b600081136107065760405162461bcd60e51b81526004016104f990613ca1565b600a8190556040518181527f54f5f1c2e7079ad1a56091e2a362b06bb1e1964a79d18c91673ca14864f62b85906020015b60405180910390a150565b61074a6132d3565b600086600481111561075e5761075e613cc2565b9050600061076a6106b6565b90506000600383600481111561078257610782613cc2565b149050600081610793576000610796565b60015b90506107f960405180610140016040528060006001600160a01b0316815260200160008152602001600081526020016000815260200160008152602001600081526020016000151581526020016000815260200160008152602001600081525090565b82156108535760405162461bcd60e51b815260206004820152602360248201527f4f70656e204c696d6974206f7264657273206e6f7420737570706f72746564206044820152621e595d60ea1b60648201526084016104f9565b6002546040516302a0a1cb60e41b81526001600160a01b0390911690632a0a1cb090610887908d908d908d90600401613cd8565b61014060405180830381865afa1580156108a5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c99190613d0f565b905060008160e00151116108ef5760405162461bcd60e51b81526004016104f990613da1565b600285600481111561090357610903613cc2565b03610a37576000600660009054906101000a90046001600160a01b03166001600160a01b031663706faf3a6040518060e0016040528085600001516001600160a01b0316815260200185602001518152602001856040015181526020018560a0015181526020018560c0015115158152602001856080015181526020018560e001518152506040518263ffffffff1660e01b81526004016109a49190613dc3565b602060405180830381865afa1580156109c1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109e59190613e17565b905081610120015160001480610a1557508160c00151610a0c578161012001518110610a15565b81610120015181115b610a315760405162461bcd60e51b81526004016104f990613e30565b50610d40565b6004856004811115610a4b57610a4b613cc2565b03610c8c576000600660009054906101000a90046001600160a01b03166001600160a01b03166364d372c66040518060e0016040528085600001516001600160a01b0316815260200185602001518152602001856040015181526020018560a0015181526020018560c0015115158152602001856080015181526020018560e001518152506040518263ffffffff1660e01b8152600401610aec9190613dc3565b602060405180830381865afa158015610b09573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2d9190613e17565b905081610120015160001480610b5d57508160c00151610b54578161012001518110610b5d565b81610120015181115b610b795760405162461bcd60e51b81526004016104f990613e30565b6007548251602084015160408086015190516304ec194160e21b81526000946001600160a01b0316936313b0650493610bb9939192909190600401613cd8565b602060405180830381865afa158015610bd6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bfa9190613e17565b90506000818460800151610c0e9190613e66565b9050600a548460e0015182610c239190613e8e565b1215610c845760405162461bcd60e51b815260206004820152602a60248201527f706f736974696f6e20746f6f20736d616c6c20666f72207061727469616c206c60448201526934b8bab4b230ba34b7b760b11b60648201526084016104f9565b505050610d40565b6001856004811115610ca057610ca0613cc2565b141580610cb257506000816101200151115b610ce65760405162461bcd60e51b81526020600482015260056024820152641393d7d4d360da1b60448201526064016104f9565b6000856004811115610cfa57610cfa613cc2565b141580610d0c57506000816101000151115b610d405760405162461bcd60e51b815260206004820152600560248201526404e4f5f54560dc1b60448201526064016104f9565b600083610d5e578160e001518260800151610d5b9190613ebe565b90505b6000610d6f858d8d8d888c88613314565b509050610da86040805160c08101825260008082526020820181905291810182905260608101829052608081018290529060a082015290565b6001600160a01b038088168252602082018b90528d166040820152606081018c9052608081018b905260a08101886004811115610de757610de7613cc2565b90816004811115610dfa57610dfa613cc2565b90525060025460405163205fe86960e21b81526001600160a01b039091169063817fa1a490610e2f9084908690600401613f2d565b600060405180830381600087803b158015610e4957600080fd5b505af1158015610e5d573d6000803e3d6000fd5b50505050600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa158015610eb4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ed89190613f48565b6001600160a01b03166339fe9fd283836040518363ffffffff1660e01b8152600401610f05929190613f65565b600060405180830381600087803b158015610f1f57600080fd5b505af1158015610f33573d6000803e3d6000fd5b505050508b8d6001600160a01b0316886001600160a01b03167f6d87222414c5850caf1d385b1e080a771b505825b082a2162d0f4af5ffc86c0085604051610f7d91815260200190565b60405180910390a45050505050505050505050505050565b610f9d61320f565b60008111610fbd5760405162461bcd60e51b81526004016104f990613ca1565b600881905560408051818152600a91810191909152690dac2f0a0dee6ae8aa8960b31b6060820152602081018290527f8cf3e35f6221b16e1670a3413180c9484bf5aa71787905909fa82a6a2662e9ab90608001610737565b6000808260e0015160000361103057506000928392509050565b6000600660009054906101000a90046001600160a01b03166001600160a01b03166364d372c66040518060e0016040528087600001516001600160a01b0316815260200187602001518152602001876040015181526020018760a0015181526020018760c0015115158152602001876080015181526020018760e001518152506040518263ffffffff1660e01b81526004016110cc9190613dc3565b602060405180830381865afa1580156110e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061110d9190613e17565b6007548551602087015160408089015190516304ec194160e21b81529495506000946001600160a01b03909416936313b06504936111519390929091600401613cd8565b602060405180830381865afa15801561116e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111929190613e17565b905060008186608001516111a69190613e66565b90506000866101200151600014806111d857508660c001516111cf5786610120015184106111d8565b86610120015184115b9050600a548760e00151836111ed9190613e8e565b121561120157600097909650945050505050565b600080600260009054906101000a90046001600160a01b03166001600160a01b0316637dc0d1d06040518163ffffffff1660e01b8152600401602060405180830381865afa158015611257573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061127b9190613f48565b6001600160a01b031663e75722308a602001516040518263ffffffff1660e01b81526004016112ac91815260200190565b6040805180830381865afa1580156112c8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112ec9190613f79565b9150915060008960c001516113045786831015611309565b868311155b9a93995092975050505050505050565b611321613568565b6113296132d3565b600b5460ff16156113655760405162461bcd60e51b815260206004820152600660248201526514105554d15160d21b60448201526064016104f9565b600019818560a001516113789190613ebe565b106113b05760405162461bcd60e51b81526020600482015260086024820152674f564552464c4f5760c01b60448201526064016104f9565b60008460a00151116113f15760405162461bcd60e51b815260206004820152600a60248201526950524943455f5a45524f60b01b60448201526064016104f9565b60025460408051633078fff560e01b815290516000926001600160a01b031691633078fff59160048083019260209291908290030181865afa15801561143b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061145f9190613f48565b90506000816001600160a01b03166335b03c176040518163ffffffff1660e01b8152600401602060405180830381865afa1580156114a1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114c59190613f48565b905060006114d16106b6565b9050600260009054906101000a90046001600160a01b03166001600160a01b031663f65d9dbe6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611526573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061154a9190613e17565b6002546020890151604051634bf3ccad60e11b81526001600160a01b03909216916397e7995a9161158091869190600401613f9d565b602060405180830381865afa15801561159d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115c19190613e17565b60025460208a0151604051639c8912f160e01b81526001600160a01b0390921691639c8912f1916115f791879190600401613f9d565b602060405180830381865afa158015611614573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116389190613e17565b60025460208b01516040516307218dad60e21b81526001600160a01b0390921691631c8636b49161166e91889190600401613f9d565b602060405180830381865afa15801561168b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116af9190613e17565b6116b99190613fb6565b6116c39190613fb6565b106117065760405162461bcd60e51b815260206004820152601360248201527226a0ac2faa2920a222a9afa822a92fa820a4a960691b60448201526064016104f9565b600260009054906101000a90046001600160a01b03166001600160a01b0316638049fde76040518163ffffffff1660e01b8152600401602060405180830381865afa158015611759573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061177d9190613e17565b60025460405163f7b3c6fd60e01b81526001600160a01b0384811660048301529091169063f7b3c6fd90602401602060405180830381865afa1580156117c7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117eb9190613e17565b106118085760405162461bcd60e51b81526004016104f990613fc9565b6008548760800151111561184e5760405162461bcd60e51b815260206004820152600d60248201526c41424f56455f4d41585f504f5360981b60448201526064016104f9565b602087015160405163601e3b6b60e11b815260048101919091526001600160a01b0383169063c03c76d690602401602060405180830381865afa158015611899573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118bd9190613e17565b8760e0015188608001516118d19190613ebe565b101561190f5760405162461bcd60e51b815260206004820152600d60248201526c42454c4f575f4d494e5f504f5360981b60448201526064016104f9565b60008760e001511180156119955750602087015160405163059a992d60e41b815260048101919091526001600160a01b038316906359a992d090602401602060405180830381865afa158015611969573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061198d9190613e17565b8760e0015110155b80156119b257506119aa828860200151613574565b8760e0015111155b6119f35760405162461bcd60e51b815260206004820152601260248201527113115591549051d157d25390d3d4949150d560721b60448201526064016104f9565b6101008701511580611a2757508660c00151611a1a578660a0015187610100015110611a27565b8660a00151876101000151115b611a5e5760405162461bcd60e51b8152602060048201526008602482015267057524f4e475f54560c41b60448201526064016104f9565b6101208701511580611a9257508660c00151611a85578660a0015187610120015111611a92565b8660a00151876101200151105b611ac95760405162461bcd60e51b815260206004820152600860248201526715d493d391d7d4d360c21b60448201526064016104f9565b600454602088015160c089015160e08a015160808b01516000946001600160a01b031693637ea95f3293869391929091611b0291613ebe565b6040516001600160e01b031960e087901b168152600481019490945260248401929092521515604483015260648201526084016040805180830381865afa158015611b51573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b759190613f79565b509050600460009054906101000a90046001600160a01b03166001600160a01b03166380f6cfc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015611bcb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bef9190613e17565b60e0890151611bfe9083613ebe565b1115611c445760405162461bcd60e51b81526020600482015260156024820152740a0a492868abe929aa08286a8bea89e9ebe90928e9605b1b60448201526064016104f9565b6002546080890151604051638a238ae560e01b81526001600160a01b03858116600483015290921660248301819052604483019190915290638a238ae590606401600060405180830381600087803b158015611c9f57600080fd5b505af1158015611cb3573d6000803e3d6000fd5b5060009250611cc0915050565b876002811115611cd257611cd2613cc2565b03611f33576000846001600160a01b0316636938c05d8a6020015160008c60e001518d60800151611d039190613ebe565b611d0b6136df565b6040518563ffffffff1660e01b8152600401611d2a9493929190614009565b6020604051808303816000875af1158015611d49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d6d9190613e17565b9050600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa158015611dc2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611de69190613f48565b6001600160a01b0316638f93b660826040518060c00160405280604051806101400160405280896001600160a01b031681526020018f60200151815260200160008152602001600081526020018f608001518152602001600081526020018f60c00151151581526020018f60e0015181526020018f610100015181526020018f61012001518152508152602001600081526020018d60a0015181526020018a81526020016000815260200160008152506040518363ffffffff1660e01b8152600401611eb392919061402f565b600060405180830381600087803b158015611ecd57600080fd5b505af1158015611ee1573d6000803e3d6000fd5b505050508860200151836001600160a01b0316827f3e544118c04e3bb18b669475695cd270ba0e41fb13177483f01c14222de62a866001604051611f29911515815260200190565b60405180910390a4505b5050505050505050565b6000808260e00151600003611f5757506000928392509050565b6000600660009054906101000a90046001600160a01b03166001600160a01b031663706faf3a6040518060e0016040528087600001516001600160a01b0316815260200187602001518152602001876040015181526020018760a0015181526020018760c0015115158152602001876080015181526020018760e001518152506040518263ffffffff1660e01b8152600401611ff39190613dc3565b602060405180830381865afa158015612010573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120349190613e17565b9050600080600260009054906101000a90046001600160a01b03166001600160a01b0316637dc0d1d06040518163ffffffff1660e01b8152600401602060405180830381865afa15801561208c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120b09190613f48565b6001600160a01b031663e757223087602001516040518263ffffffff1660e01b81526004016120e191815260200190565b6040805180830381865afa1580156120fd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121219190613f79565b9150915060008661012001516000148061215557508660c0015161214c578661012001518410612155565b86610120015184115b905060008760c0015161216b5784841015612170565b848411155b989197509095505050505050565b61218661320f565b600b805460ff8082161560ff1990921682179092556040519116151581527f0e2fb031ee032dc02d8011dc50b816eb450cf856abd8261680dac74f72165bd2906020015b60405180910390a1565b6002546040516302a0a1cb60e41b815260009182916001600160a01b0390911690632a0a1cb09061220d90889088908890600401613cd8565b61014060405180830381865afa15801561222b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061224f9190613d0f565b9050600080600260009054906101000a90046001600160a01b03166001600160a01b0316637dc0d1d06040518163ffffffff1660e01b8152600401602060405180830381865afa1580156122a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122cb9190613f48565b6001600160a01b031663e7572230876040518263ffffffff1660e01b81526004016122f891815260200190565b6040805180830381865afa158015612314573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123389190613f79565b9150915060008061234885611016565b91509150806123695760405162461bcd60e51b81526004016104f990613e30565b5093505050505b9392505050565b6001600160a01b038381166000908152602081905260409020546060911633146123db5760405162461bcd60e51b81526020600482015260156024820152741111531151d0551157d393d517d054141493d59151605a1b60448201526064016104f9565b600180546001600160a01b0319166001600160a01b0386161790556040516000908190309061240d90879087906140f2565b600060405180830381855af49150503d8060008114612448576040519150601f19603f3d011682016040523d82523d6000602084013e61244d565b606091505b5091509150816124995760448151101561246657600080fd5b600481019050808060200190518101906124809190614102565b60405162461bcd60e51b81526004016104f99190613b28565b600180546001600160a01b031916905595945050505050565b6124ba613568565b6124c26132d3565b60006124cc6106b6565b6002546040516302a0a1cb60e41b81529192506000916001600160a01b0390911690632a0a1cb09061250690859088908890600401613cd8565b61014060405180830381865afa158015612524573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125489190613d0f565b600254604051637728fb1b60e11b81529192506000916001600160a01b039091169063ee51f6369061258290869089908990600401613cd8565b60c060405180830381865afa15801561259f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125c391906141af565b9050600260009054906101000a90046001600160a01b03166001600160a01b0316638049fde76040518163ffffffff1660e01b8152600401602060405180830381865afa158015612618573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061263c9190613e17565b60025460405163f7b3c6fd60e01b81526001600160a01b0386811660048301529091169063f7b3c6fd90602401602060405180830381865afa158015612686573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126aa9190613e17565b106126c75760405162461bcd60e51b81526004016104f990613fc9565b8060a00151156127105760405162461bcd60e51b81526020600482015260146024820152731053149150511657d091525391d7d0d313d4d15160621b60448201526064016104f9565b60008260e00151116127345760405162461bcd60e51b81526004016104f990613da1565b60025460408051633078fff560e01b815290516000926001600160a01b031691633078fff59160048083019260209291908290030181865afa15801561277e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127a29190613f48565b6001600160a01b0316636938c05d8760016402540be4008760e00151876020015189606001516127d29190613ebe565b6127dc9190613ebe565b6127e6919061422f565b6127ee6136df565b6040518563ffffffff1660e01b815260040161280d9493929190614009565b6020604051808303816000875af115801561282c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128509190613e17565b9050600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa1580156128a5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128c99190613f48565b6001600160a01b0316638f93b660826040518060c001604052806040518061014001604052808a6001600160a01b031681526020018c81526020018b81526020016000815260200160008152602001600081526020016000151581526020016000815260200160008152602001600081525081526020016000815260200160008152602001600081526020016000815260200160008152506040518363ffffffff1660e01b815260040161297e92919061402f565b600060405180830381600087803b15801561299857600080fd5b505af11580156129ac573d6000803e3d6000fd5b5050505085846001600160a01b0316827f3e544118c04e3bb18b669475695cd270ba0e41fb13177483f01c14222de62a8660006040516129f0911515815260200190565b60405180910390a4505050505050565b612a0861320f565b600b805460ff610100808304821615810261ff001990931692909217928390556040517fc3a6f986261de9467c2838c6df8ef74f9107855159205600c0bc7a14cdfd3888936121ca9390049091161515815260200190565b612a686132d3565b60005b81811015612ae257612ada868260648110612a8857612a88614251565b6020020151868360648110612a9f57612a9f614251565b6020020151868460648110612ab657612ab6614251565b6020020151868560648110612acd57612acd614251565b6020020151600180610742565b600101612a6b565b505050505050565b612af261320f565b60008111612b125760405162461bcd60e51b81526004016104f990613ca1565b600981905560408051818152601391810191909152721b585c9ad95d13dc99195c9cd51a5b595bdd5d606a1b6060820152602081018290527f8cf3e35f6221b16e1670a3413180c9484bf5aa71787905909fa82a6a2662e9ab90608001610737565b612b7c613568565b612b846132d3565b6000612b8e6106b6565b6002546040516302a0a1cb60e41b81529192506000916001600160a01b0390911690632a0a1cb090612bc890859089908990600401613cd8565b61014060405180830381865afa158015612be6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c0a9190613d0f565b905060008160e0015111612c305760405162461bcd60e51b81526004016104f990613da1565b60008160e001516064604b8460a00151612c4a9190613ebe565b612c54919061422f565b612c5e919061422f565b9050831580612c9d57508160c00151612c8957808260a00151612c819190613fb6565b841115612c9d565b808260a00151612c999190614267565b8410155b612cd65760405162461bcd60e51b815260206004820152600a602482015269534c5f544f4f5f42494760b01b60448201526064016104f9565b60025460405163a354418160e01b81526001600160a01b039091169063a354418190612d0c9086908a908a908a9060040161427a565b600060405180830381600087803b158015612d2657600080fd5b505af1158015612d3a573d6000803e3d6000fd5b50505050600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa158015612d90573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612db49190613f48565b6001600160a01b031673Bea73565C05De9DA5149De29a04D381B0332F608633c63a7d090918589896000612de66136df565b6040518763ffffffff1660e01b8152600401612e07969594939291906142b0565b60006040518083038186803b158015612e1f57600080fd5b505af4158015612e33573d6000803e3d6000fd5b505060408051888152602081018890528993506001600160a01b03871692507f1fc4a6c7ffe506697979b8ed54dc4135cd1ecd26a2745f70b760a2492222b316910160405180910390a3505050505050565b323314612ec25760405162461bcd60e51b815260206004820152600b60248201526a1393d7d0d3d395149050d560aa1b60448201526064016104f9565b33600090815260208190526040902080546001600160a01b0319166001600160a01b0392909216919091179055565b612ef9613568565b612f016132d3565b6000612f0b6106b6565b6002546040516302a0a1cb60e41b81529192506000916001600160a01b0390911690632a0a1cb090612f4590859089908990600401613cd8565b61014060405180830381865afa158015612f63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612f879190613d0f565b905060008160e0015111612fad5760405162461bcd60e51b81526004016104f990613da1565b600254604051637fdb96f360e01b81526001600160a01b0390911690637fdb96f390612fe390859089908990899060040161427a565b600060405180830381600087803b158015612ffd57600080fd5b505af1158015613011573d6000803e3d6000fd5b50505050600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa158015613067573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061308b9190613f48565b6001600160a01b031673Bea73565C05De9DA5149De29a04D381B0332F608638fff7d82909184888860006130bd6136df565b6040518763ffffffff1660e01b81526004016130de969594939291906142b0565b60006040518083038186803b1580156130f657600080fd5b505af415801561310a573d6000803e3d6000fd5b505060408051878152602081018790528893506001600160a01b03861692507f7e06a81c7a47891ccc7455b5ccb2ed850e32bb655ccda67eb3ebaaeed83242a4910160405180910390a35050505050565b6002546040516302a0a1cb60e41b815260009182916001600160a01b0390911690632a0a1cb09061319490889088908890600401613cd8565b61014060405180830381865afa1580156131b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131d69190613d0f565b90506000806131e483611f3d565b91509150806132055760405162461bcd60e51b81526004016104f990613e30565b5095945050505050565b600260009054906101000a90046001600160a01b03166001600160a01b03166312d43a516040518163ffffffff1660e01b8152600401602060405180830381865afa158015613262573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132869190613f48565b6001600160a01b0316336001600160a01b0316146132d15760405162461bcd60e51b8152602060048201526008602482015267474f565f4f4e4c5960c01b60448201526064016104f9565b565b600b54610100900460ff16156132d15760405162461bcd60e51b81526004016104f990602080825260049082015263444f4e4560e01b604082015260600190565b6000806000600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa15801561336b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061338f9190613f48565b6001600160a01b0316639bd24d838a8a8a8a6040518563ffffffff1660e01b81526004016133c094939291906142f4565b608060405180830381865afa1580156133dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613401919061433c565b90506000600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa158015613458573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061347c9190613f48565b9050806001600160a01b0316636938c05d8a8d61349a57600361349d565b60025b888f6134f05760018b60048111156134b7576134b7613cc2565b146134e65760008b60048111156134d0576134d0613cc2565b146134df5786606001516134f6565b86516134f6565b86602001516134f6565b86604001515b6040518563ffffffff1660e01b815260040161351594939291906143b9565b6020604051808303816000875af1158015613534573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135589190613e17565b9350505097509795505050505050565b3233146132d157600080fd5b600080600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa1580156135c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135ed9190613f48565b6001600160a01b031663281b693c846040518263ffffffff1660e01b815260040161361a91815260200190565b602060405180830381865afa158015613637573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061365b9190613e17565b9050600081116136d357604051630a06da4f60e21b8152600481018490526001600160a01b0385169063281b693c90602401602060405180830381865afa1580156136aa573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906136ce9190613e17565b6136d5565b805b9150505b92915050565b600061a4b14614806136f3575062066eed46145b80613700575062066eee46145b1561376d5760646001600160a01b031663a3b1b31d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015613744573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906137689190613e17565b905090565b504390565b6001600160a01b038116811461378757600080fd5b50565b60008060008060008060008060006101208a8c0312156137a957600080fd5b89356137b481613772565b985060208a01356137c481613772565b975060408a01356137d481613772565b965060608a01356137e481613772565b955060808a01356137f481613772565b945060a08a013561380481613772565b8094505060c08a0135925060e08a013591506101008a013590509295985092959850929598565b60006020828403121561383d57600080fd5b5035919050565b803561384f81613772565b919050565b60008060008060008060c0878903121561386d57600080fd5b86359550602087013561387f81613772565b95989597505050506040840135936060810135936080820135935060a0909101359150565b634e487b7160e01b600052604160045260246000fd5b604051610140810167ffffffffffffffff811182821017156138de576138de6138a4565b60405290565b604051610c80810167ffffffffffffffff811182821017156138de576138de6138a4565b801515811461378757600080fd5b803561384f81613908565b6000610140828403121561393457600080fd5b61393c6138ba565b905061394782613844565b81526020820135602082015260408201356040820152606082013560608201526080820135608082015260a082013560a082015261398760c08301613916565b60c082015260e082013560e082015261010080830135818301525061012080830135818301525092915050565b600061014082840312156139c757600080fd5b6123708383613921565b6000806000806101a085870312156139e857600080fd5b6139f28686613921565b935061014085013560038110613a0757600080fd5b939693955050505061016082013591610180013590565b600080600060608486031215613a3357600080fd5b8335613a3e81613772565b95602085013595506040909401359392505050565b600080600060408486031215613a6857600080fd5b8335613a7381613772565b9250602084013567ffffffffffffffff80821115613a9057600080fd5b818601915086601f830112613aa457600080fd5b813581811115613ab357600080fd5b876020828501011115613ac557600080fd5b6020830194508093505050509250925092565b60005b83811015613af3578181015183820152602001613adb565b50506000910152565b60008151808452613b14816020860160208601613ad8565b601f01601f19169290920160200192915050565b6020815260006123706020830184613afc565b60008060408385031215613b4e57600080fd5b50508035926020909101359150565b600082601f830112613b6e57600080fd5b613b766138e4565b80610c80840185811115613b8957600080fd5b845b81811015613ba3578035845260209384019301613b8b565b509095945050505050565b60008060008060006132208688031215613bc757600080fd5b613bd18787613b5d565b945086610c9f870112613be357600080fd5b613beb6138e4565b80611900880189811115613bfe57600080fd5b610c8089015b81811015613c25578035613c1781613772565b845260209384019301613c04565b50819650613c338a82613b5d565b9550505050613c46876125808801613b5d565b94979396509194613200013592915050565b600080600060608486031215613c6d57600080fd5b505081359360208301359350604090920135919050565b600060208284031215613c9657600080fd5b81356136d381613772565b602080825260079082015266056414c55455f360cc1b604082015260600190565b634e487b7160e01b600052602160045260246000fd5b6001600160a01b039390931683526020830191909152604082015260600190565b805161384f81613772565b805161384f81613908565b60006101408284031215613d2257600080fd5b613d2a6138ba565b613d3383613cf9565b81526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015160a0820152613d7360c08401613d04565b60c082015260e083810151908201526101008084015190820152610120928301519281019290925250919050565b6020808252600890820152674e4f5f545241444560c01b604082015260600190565b81516001600160a01b0316815260208083015190820152604080830151908201526060808301519082015260808083015115159082015260a0828101519082015260c0918201519181019190915260e00190565b600060208284031215613e2957600080fd5b5051919050565b602080825260069082015265121054d7d4d360d21b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b8082018281126000831280158216821582161715613e8657613e86613e50565b505092915050565b80820260008212600160ff1b84141615613eaa57613eaa613e50565b81810583148215176136d9576136d9613e50565b80820281158282048414176136d9576136d9613e50565b60018060a01b038082511683526020820151602084015280604083015116604084015250606081015160608301526080810151608083015260a081015160058110613f2257613f22613cc2565b8060a0840152505050565b60e08101613f3b8285613ed5565b8260c08301529392505050565b600060208284031215613f5a57600080fd5b81516136d381613772565b82815260e081016123706020830184613ed5565b60008060408385031215613f8c57600080fd5b505080516020909101519092909150565b6001600160a01b03929092168252602082015260400190565b808201808211156136d9576136d9613e50565b6020808252601290820152714d41585f50454e44494e475f4f524445525360701b604082015260600190565b6004811061400557614005613cc2565b9052565b8481526080810161401d6020830186613ff5565b60408201939093526060015292915050565b828152815180516001600160a01b03166020830152610200820190602081015160408401526040810151606084015260608101516080840152608081015160a084015260a081015160c084015260c081015161408f60e085018215159052565b5060e0810151610100848101919091528101516101208085019190915201516101408301526020830151610160830152604083015161018083015260608301516101a083015260808301516101c083015260a0909201516101e090910152919050565b8183823760009101908152919050565b60006020828403121561411457600080fd5b815167ffffffffffffffff8082111561412c57600080fd5b818401915084601f83011261414057600080fd5b815181811115614152576141526138a4565b604051601f8201601f19908116603f0116810190838211818310171561417a5761417a6138a4565b8160405282815287602084870101111561419357600080fd5b6141a4836020830160208801613ad8565b979650505050505050565b600060c082840312156141c157600080fd5b60405160c0810181811067ffffffffffffffff821117156141e4576141e46138a4565b8060405250825181526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015161422381613908565b60a08201529392505050565b60008261424c57634e487b7160e01b600052601260045260246000fd5b500490565b634e487b7160e01b600052603260045260246000fd5b818103818111156136d9576136d9613e50565b6001600160a01b0394909416845260208401929092526040830152606082015260800190565b6002811061400557614005613cc2565b6001600160a01b03878116825286166020820152604081018590526060810184905260c081016142e360808301856142a0565b8260a0830152979650505050505050565b6001600160a01b038516815260208101849052604081018390526080810161431f60608301846142a0565b95945050505050565b805163ffffffff8116811461384f57600080fd5b60006080828403121561434e57600080fd5b6040516080810181811067ffffffffffffffff82111715614371576143716138a4565b60405261437d83614328565b815261438b60208401614328565b602082015261439c60408401614328565b60408201526143ad60608401614328565b60608201529392505050565b848152608081016143cd6020830186613ff5565b83604083015263ffffffff831660608301529594505050505056fea2646970667358221220ebd0f2bd662f0966e36c91e553816167c4ac0788d42fc7e4250b796f1cd17d1964736f6c63430008170033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101af5760003560e01c8063870f91d9116100ef578063b354169911610092578063b3541699146103a6578063b81bfa05146103b9578063be73fb99146103cc578063bffe3486146103df578063ca5eb5e114610408578063d3dc75391461041b578063d8defd151461042e578063ff22dcac1461044157600080fd5b8063870f91d9146103175780638f0622271461033a5780639a10cc321461034c5780639a54adba1461036c578063a2a3c0cb14610375578063ae8421e114610388578063b187bd2614610390578063b1dfd5301461039d57600080fd5b806336fb8b151161015757806336fb8b151461026057806340b6159714610282578063410c0b7c146102ac578063531cc965146102c35780635ad9f993146102d657806368cd5088146102e95780636b5bd974146102fc5780638456cb591461030f57600080fd5b8062b12783146101b4578063090efc3b146101e4578063119df25f146101f95780631346b0ff1461020157806316fff0741461021457806318967f2214610227578063192a48f51461023a5780632c1e4e551461024d575b600080fd5b6007546101c7906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6101f76101f236600461378a565b610454565b005b6101c76106b6565b6004546101c7906001600160a01b031681565b6002546101c7906001600160a01b031681565b6101f761023536600461382b565b6106de565b6101f7610248366004613854565b610742565b6101f761025b36600461382b565b610f95565b6101f733600090815260208190526040902080546001600160a01b0319169055565b6102956102903660046139b4565b611016565b6040805192151583529015156020830152016101db565b6102b560095481565b6040519081526020016101db565b6006546101c7906001600160a01b031681565b6003546101c7906001600160a01b031681565b6101f76102f73660046139d1565b611319565b61029561030a3660046139b4565b611f3d565b6101f761217e565b61032a610325366004613a1e565b6121d4565b60405190151581526020016101db565b600b5461032a90610100900460ff1681565b61035f61035a366004613a53565b612377565b6040516101db9190613b28565b6102b5600a5481565b6101f7610383366004613b3b565b6124b2565b6101f7612a00565b600b5461032a9060ff1681565b6102b560085481565b6101f76103b4366004613bae565b612a60565b6101f76103c736600461382b565b612aea565b6101f76103da366004613c58565b612b74565b6101c76103ed366004613c84565b6000602081905290815260409020546001600160a01b031681565b6101f7610416366004613c84565b612e85565b6005546101c7906001600160a01b031681565b6101f761043c366004613c58565b612ef1565b61032a61044f366004613a1e565b61315b565b600154600160a81b900460ff161580801561047a575060018054600160a01b900460ff16105b8061049a5750303b15801561049a575060018054600160a01b900460ff16145b6105025760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b60648201526084015b60405180910390fd5b6001805460ff60a01b1916600160a01b179055801561052f576001805460ff60a81b1916600160a81b1790555b6001600160a01b038a161580159061054f57506001600160a01b03891615155b801561056357506001600160a01b03881615155b801561057757506001600160a01b03871615155b801561058b57506001600160a01b03861615155b801561059f57506001600160a01b03851615155b80156105ab5750600084115b80156105b75750600083115b6105f25760405162461bcd60e51b815260206004820152600c60248201526b57524f4e475f504152414d5360a01b60448201526064016104f9565b600280546001600160a01b03199081166001600160a01b038d8116919091179092556003805482168c84161790556004805482168b84161790556005805482168a84161790556006805482168984161790556008869055600985905560078054909116918716919091179055600a82905580156106aa576001805460ff60a81b191681556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50505050505050505050565b6001546000906001600160a01b03166106ce57503390565b506001546001600160a01b031690565b6106e661320f565b600081136107065760405162461bcd60e51b81526004016104f990613ca1565b600a8190556040518181527f54f5f1c2e7079ad1a56091e2a362b06bb1e1964a79d18c91673ca14864f62b85906020015b60405180910390a150565b61074a6132d3565b600086600481111561075e5761075e613cc2565b9050600061076a6106b6565b90506000600383600481111561078257610782613cc2565b149050600081610793576000610796565b60015b90506107f960405180610140016040528060006001600160a01b0316815260200160008152602001600081526020016000815260200160008152602001600081526020016000151581526020016000815260200160008152602001600081525090565b82156108535760405162461bcd60e51b815260206004820152602360248201527f4f70656e204c696d6974206f7264657273206e6f7420737570706f72746564206044820152621e595d60ea1b60648201526084016104f9565b6002546040516302a0a1cb60e41b81526001600160a01b0390911690632a0a1cb090610887908d908d908d90600401613cd8565b61014060405180830381865afa1580156108a5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c99190613d0f565b905060008160e00151116108ef5760405162461bcd60e51b81526004016104f990613da1565b600285600481111561090357610903613cc2565b03610a37576000600660009054906101000a90046001600160a01b03166001600160a01b031663706faf3a6040518060e0016040528085600001516001600160a01b0316815260200185602001518152602001856040015181526020018560a0015181526020018560c0015115158152602001856080015181526020018560e001518152506040518263ffffffff1660e01b81526004016109a49190613dc3565b602060405180830381865afa1580156109c1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109e59190613e17565b905081610120015160001480610a1557508160c00151610a0c578161012001518110610a15565b81610120015181115b610a315760405162461bcd60e51b81526004016104f990613e30565b50610d40565b6004856004811115610a4b57610a4b613cc2565b03610c8c576000600660009054906101000a90046001600160a01b03166001600160a01b03166364d372c66040518060e0016040528085600001516001600160a01b0316815260200185602001518152602001856040015181526020018560a0015181526020018560c0015115158152602001856080015181526020018560e001518152506040518263ffffffff1660e01b8152600401610aec9190613dc3565b602060405180830381865afa158015610b09573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2d9190613e17565b905081610120015160001480610b5d57508160c00151610b54578161012001518110610b5d565b81610120015181115b610b795760405162461bcd60e51b81526004016104f990613e30565b6007548251602084015160408086015190516304ec194160e21b81526000946001600160a01b0316936313b0650493610bb9939192909190600401613cd8565b602060405180830381865afa158015610bd6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bfa9190613e17565b90506000818460800151610c0e9190613e66565b9050600a548460e0015182610c239190613e8e565b1215610c845760405162461bcd60e51b815260206004820152602a60248201527f706f736974696f6e20746f6f20736d616c6c20666f72207061727469616c206c60448201526934b8bab4b230ba34b7b760b11b60648201526084016104f9565b505050610d40565b6001856004811115610ca057610ca0613cc2565b141580610cb257506000816101200151115b610ce65760405162461bcd60e51b81526020600482015260056024820152641393d7d4d360da1b60448201526064016104f9565b6000856004811115610cfa57610cfa613cc2565b141580610d0c57506000816101000151115b610d405760405162461bcd60e51b815260206004820152600560248201526404e4f5f54560dc1b60448201526064016104f9565b600083610d5e578160e001518260800151610d5b9190613ebe565b90505b6000610d6f858d8d8d888c88613314565b509050610da86040805160c08101825260008082526020820181905291810182905260608101829052608081018290529060a082015290565b6001600160a01b038088168252602082018b90528d166040820152606081018c9052608081018b905260a08101886004811115610de757610de7613cc2565b90816004811115610dfa57610dfa613cc2565b90525060025460405163205fe86960e21b81526001600160a01b039091169063817fa1a490610e2f9084908690600401613f2d565b600060405180830381600087803b158015610e4957600080fd5b505af1158015610e5d573d6000803e3d6000fd5b50505050600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa158015610eb4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ed89190613f48565b6001600160a01b03166339fe9fd283836040518363ffffffff1660e01b8152600401610f05929190613f65565b600060405180830381600087803b158015610f1f57600080fd5b505af1158015610f33573d6000803e3d6000fd5b505050508b8d6001600160a01b0316886001600160a01b03167f6d87222414c5850caf1d385b1e080a771b505825b082a2162d0f4af5ffc86c0085604051610f7d91815260200190565b60405180910390a45050505050505050505050505050565b610f9d61320f565b60008111610fbd5760405162461bcd60e51b81526004016104f990613ca1565b600881905560408051818152600a91810191909152690dac2f0a0dee6ae8aa8960b31b6060820152602081018290527f8cf3e35f6221b16e1670a3413180c9484bf5aa71787905909fa82a6a2662e9ab90608001610737565b6000808260e0015160000361103057506000928392509050565b6000600660009054906101000a90046001600160a01b03166001600160a01b03166364d372c66040518060e0016040528087600001516001600160a01b0316815260200187602001518152602001876040015181526020018760a0015181526020018760c0015115158152602001876080015181526020018760e001518152506040518263ffffffff1660e01b81526004016110cc9190613dc3565b602060405180830381865afa1580156110e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061110d9190613e17565b6007548551602087015160408089015190516304ec194160e21b81529495506000946001600160a01b03909416936313b06504936111519390929091600401613cd8565b602060405180830381865afa15801561116e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111929190613e17565b905060008186608001516111a69190613e66565b90506000866101200151600014806111d857508660c001516111cf5786610120015184106111d8565b86610120015184115b9050600a548760e00151836111ed9190613e8e565b121561120157600097909650945050505050565b600080600260009054906101000a90046001600160a01b03166001600160a01b0316637dc0d1d06040518163ffffffff1660e01b8152600401602060405180830381865afa158015611257573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061127b9190613f48565b6001600160a01b031663e75722308a602001516040518263ffffffff1660e01b81526004016112ac91815260200190565b6040805180830381865afa1580156112c8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112ec9190613f79565b9150915060008960c001516113045786831015611309565b868311155b9a93995092975050505050505050565b611321613568565b6113296132d3565b600b5460ff16156113655760405162461bcd60e51b815260206004820152600660248201526514105554d15160d21b60448201526064016104f9565b600019818560a001516113789190613ebe565b106113b05760405162461bcd60e51b81526020600482015260086024820152674f564552464c4f5760c01b60448201526064016104f9565b60008460a00151116113f15760405162461bcd60e51b815260206004820152600a60248201526950524943455f5a45524f60b01b60448201526064016104f9565b60025460408051633078fff560e01b815290516000926001600160a01b031691633078fff59160048083019260209291908290030181865afa15801561143b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061145f9190613f48565b90506000816001600160a01b03166335b03c176040518163ffffffff1660e01b8152600401602060405180830381865afa1580156114a1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114c59190613f48565b905060006114d16106b6565b9050600260009054906101000a90046001600160a01b03166001600160a01b031663f65d9dbe6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611526573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061154a9190613e17565b6002546020890151604051634bf3ccad60e11b81526001600160a01b03909216916397e7995a9161158091869190600401613f9d565b602060405180830381865afa15801561159d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115c19190613e17565b60025460208a0151604051639c8912f160e01b81526001600160a01b0390921691639c8912f1916115f791879190600401613f9d565b602060405180830381865afa158015611614573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116389190613e17565b60025460208b01516040516307218dad60e21b81526001600160a01b0390921691631c8636b49161166e91889190600401613f9d565b602060405180830381865afa15801561168b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116af9190613e17565b6116b99190613fb6565b6116c39190613fb6565b106117065760405162461bcd60e51b815260206004820152601360248201527226a0ac2faa2920a222a9afa822a92fa820a4a960691b60448201526064016104f9565b600260009054906101000a90046001600160a01b03166001600160a01b0316638049fde76040518163ffffffff1660e01b8152600401602060405180830381865afa158015611759573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061177d9190613e17565b60025460405163f7b3c6fd60e01b81526001600160a01b0384811660048301529091169063f7b3c6fd90602401602060405180830381865afa1580156117c7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117eb9190613e17565b106118085760405162461bcd60e51b81526004016104f990613fc9565b6008548760800151111561184e5760405162461bcd60e51b815260206004820152600d60248201526c41424f56455f4d41585f504f5360981b60448201526064016104f9565b602087015160405163601e3b6b60e11b815260048101919091526001600160a01b0383169063c03c76d690602401602060405180830381865afa158015611899573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118bd9190613e17565b8760e0015188608001516118d19190613ebe565b101561190f5760405162461bcd60e51b815260206004820152600d60248201526c42454c4f575f4d494e5f504f5360981b60448201526064016104f9565b60008760e001511180156119955750602087015160405163059a992d60e41b815260048101919091526001600160a01b038316906359a992d090602401602060405180830381865afa158015611969573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061198d9190613e17565b8760e0015110155b80156119b257506119aa828860200151613574565b8760e0015111155b6119f35760405162461bcd60e51b815260206004820152601260248201527113115591549051d157d25390d3d4949150d560721b60448201526064016104f9565b6101008701511580611a2757508660c00151611a1a578660a0015187610100015110611a27565b8660a00151876101000151115b611a5e5760405162461bcd60e51b8152602060048201526008602482015267057524f4e475f54560c41b60448201526064016104f9565b6101208701511580611a9257508660c00151611a85578660a0015187610120015111611a92565b8660a00151876101200151105b611ac95760405162461bcd60e51b815260206004820152600860248201526715d493d391d7d4d360c21b60448201526064016104f9565b600454602088015160c089015160e08a015160808b01516000946001600160a01b031693637ea95f3293869391929091611b0291613ebe565b6040516001600160e01b031960e087901b168152600481019490945260248401929092521515604483015260648201526084016040805180830381865afa158015611b51573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b759190613f79565b509050600460009054906101000a90046001600160a01b03166001600160a01b03166380f6cfc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015611bcb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bef9190613e17565b60e0890151611bfe9083613ebe565b1115611c445760405162461bcd60e51b81526020600482015260156024820152740a0a492868abe929aa08286a8bea89e9ebe90928e9605b1b60448201526064016104f9565b6002546080890151604051638a238ae560e01b81526001600160a01b03858116600483015290921660248301819052604483019190915290638a238ae590606401600060405180830381600087803b158015611c9f57600080fd5b505af1158015611cb3573d6000803e3d6000fd5b5060009250611cc0915050565b876002811115611cd257611cd2613cc2565b03611f33576000846001600160a01b0316636938c05d8a6020015160008c60e001518d60800151611d039190613ebe565b611d0b6136df565b6040518563ffffffff1660e01b8152600401611d2a9493929190614009565b6020604051808303816000875af1158015611d49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d6d9190613e17565b9050600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa158015611dc2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611de69190613f48565b6001600160a01b0316638f93b660826040518060c00160405280604051806101400160405280896001600160a01b031681526020018f60200151815260200160008152602001600081526020018f608001518152602001600081526020018f60c00151151581526020018f60e0015181526020018f610100015181526020018f61012001518152508152602001600081526020018d60a0015181526020018a81526020016000815260200160008152506040518363ffffffff1660e01b8152600401611eb392919061402f565b600060405180830381600087803b158015611ecd57600080fd5b505af1158015611ee1573d6000803e3d6000fd5b505050508860200151836001600160a01b0316827f3e544118c04e3bb18b669475695cd270ba0e41fb13177483f01c14222de62a866001604051611f29911515815260200190565b60405180910390a4505b5050505050505050565b6000808260e00151600003611f5757506000928392509050565b6000600660009054906101000a90046001600160a01b03166001600160a01b031663706faf3a6040518060e0016040528087600001516001600160a01b0316815260200187602001518152602001876040015181526020018760a0015181526020018760c0015115158152602001876080015181526020018760e001518152506040518263ffffffff1660e01b8152600401611ff39190613dc3565b602060405180830381865afa158015612010573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120349190613e17565b9050600080600260009054906101000a90046001600160a01b03166001600160a01b0316637dc0d1d06040518163ffffffff1660e01b8152600401602060405180830381865afa15801561208c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120b09190613f48565b6001600160a01b031663e757223087602001516040518263ffffffff1660e01b81526004016120e191815260200190565b6040805180830381865afa1580156120fd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121219190613f79565b9150915060008661012001516000148061215557508660c0015161214c578661012001518410612155565b86610120015184115b905060008760c0015161216b5784841015612170565b848411155b989197509095505050505050565b61218661320f565b600b805460ff8082161560ff1990921682179092556040519116151581527f0e2fb031ee032dc02d8011dc50b816eb450cf856abd8261680dac74f72165bd2906020015b60405180910390a1565b6002546040516302a0a1cb60e41b815260009182916001600160a01b0390911690632a0a1cb09061220d90889088908890600401613cd8565b61014060405180830381865afa15801561222b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061224f9190613d0f565b9050600080600260009054906101000a90046001600160a01b03166001600160a01b0316637dc0d1d06040518163ffffffff1660e01b8152600401602060405180830381865afa1580156122a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122cb9190613f48565b6001600160a01b031663e7572230876040518263ffffffff1660e01b81526004016122f891815260200190565b6040805180830381865afa158015612314573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123389190613f79565b9150915060008061234885611016565b91509150806123695760405162461bcd60e51b81526004016104f990613e30565b5093505050505b9392505050565b6001600160a01b038381166000908152602081905260409020546060911633146123db5760405162461bcd60e51b81526020600482015260156024820152741111531151d0551157d393d517d054141493d59151605a1b60448201526064016104f9565b600180546001600160a01b0319166001600160a01b0386161790556040516000908190309061240d90879087906140f2565b600060405180830381855af49150503d8060008114612448576040519150601f19603f3d011682016040523d82523d6000602084013e61244d565b606091505b5091509150816124995760448151101561246657600080fd5b600481019050808060200190518101906124809190614102565b60405162461bcd60e51b81526004016104f99190613b28565b600180546001600160a01b031916905595945050505050565b6124ba613568565b6124c26132d3565b60006124cc6106b6565b6002546040516302a0a1cb60e41b81529192506000916001600160a01b0390911690632a0a1cb09061250690859088908890600401613cd8565b61014060405180830381865afa158015612524573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125489190613d0f565b600254604051637728fb1b60e11b81529192506000916001600160a01b039091169063ee51f6369061258290869089908990600401613cd8565b60c060405180830381865afa15801561259f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125c391906141af565b9050600260009054906101000a90046001600160a01b03166001600160a01b0316638049fde76040518163ffffffff1660e01b8152600401602060405180830381865afa158015612618573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061263c9190613e17565b60025460405163f7b3c6fd60e01b81526001600160a01b0386811660048301529091169063f7b3c6fd90602401602060405180830381865afa158015612686573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126aa9190613e17565b106126c75760405162461bcd60e51b81526004016104f990613fc9565b8060a00151156127105760405162461bcd60e51b81526020600482015260146024820152731053149150511657d091525391d7d0d313d4d15160621b60448201526064016104f9565b60008260e00151116127345760405162461bcd60e51b81526004016104f990613da1565b60025460408051633078fff560e01b815290516000926001600160a01b031691633078fff59160048083019260209291908290030181865afa15801561277e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127a29190613f48565b6001600160a01b0316636938c05d8760016402540be4008760e00151876020015189606001516127d29190613ebe565b6127dc9190613ebe565b6127e6919061422f565b6127ee6136df565b6040518563ffffffff1660e01b815260040161280d9493929190614009565b6020604051808303816000875af115801561282c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128509190613e17565b9050600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa1580156128a5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128c99190613f48565b6001600160a01b0316638f93b660826040518060c001604052806040518061014001604052808a6001600160a01b031681526020018c81526020018b81526020016000815260200160008152602001600081526020016000151581526020016000815260200160008152602001600081525081526020016000815260200160008152602001600081526020016000815260200160008152506040518363ffffffff1660e01b815260040161297e92919061402f565b600060405180830381600087803b15801561299857600080fd5b505af11580156129ac573d6000803e3d6000fd5b5050505085846001600160a01b0316827f3e544118c04e3bb18b669475695cd270ba0e41fb13177483f01c14222de62a8660006040516129f0911515815260200190565b60405180910390a4505050505050565b612a0861320f565b600b805460ff610100808304821615810261ff001990931692909217928390556040517fc3a6f986261de9467c2838c6df8ef74f9107855159205600c0bc7a14cdfd3888936121ca9390049091161515815260200190565b612a686132d3565b60005b81811015612ae257612ada868260648110612a8857612a88614251565b6020020151868360648110612a9f57612a9f614251565b6020020151868460648110612ab657612ab6614251565b6020020151868560648110612acd57612acd614251565b6020020151600180610742565b600101612a6b565b505050505050565b612af261320f565b60008111612b125760405162461bcd60e51b81526004016104f990613ca1565b600981905560408051818152601391810191909152721b585c9ad95d13dc99195c9cd51a5b595bdd5d606a1b6060820152602081018290527f8cf3e35f6221b16e1670a3413180c9484bf5aa71787905909fa82a6a2662e9ab90608001610737565b612b7c613568565b612b846132d3565b6000612b8e6106b6565b6002546040516302a0a1cb60e41b81529192506000916001600160a01b0390911690632a0a1cb090612bc890859089908990600401613cd8565b61014060405180830381865afa158015612be6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c0a9190613d0f565b905060008160e0015111612c305760405162461bcd60e51b81526004016104f990613da1565b60008160e001516064604b8460a00151612c4a9190613ebe565b612c54919061422f565b612c5e919061422f565b9050831580612c9d57508160c00151612c8957808260a00151612c819190613fb6565b841115612c9d565b808260a00151612c999190614267565b8410155b612cd65760405162461bcd60e51b815260206004820152600a602482015269534c5f544f4f5f42494760b01b60448201526064016104f9565b60025460405163a354418160e01b81526001600160a01b039091169063a354418190612d0c9086908a908a908a9060040161427a565b600060405180830381600087803b158015612d2657600080fd5b505af1158015612d3a573d6000803e3d6000fd5b50505050600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa158015612d90573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612db49190613f48565b6001600160a01b031673__$f600c6c046224cd62da9c8e7a0d00fc8b2$__633c63a7d090918589896000612de66136df565b6040518763ffffffff1660e01b8152600401612e07969594939291906142b0565b60006040518083038186803b158015612e1f57600080fd5b505af4158015612e33573d6000803e3d6000fd5b505060408051888152602081018890528993506001600160a01b03871692507f1fc4a6c7ffe506697979b8ed54dc4135cd1ecd26a2745f70b760a2492222b316910160405180910390a3505050505050565b323314612ec25760405162461bcd60e51b815260206004820152600b60248201526a1393d7d0d3d395149050d560aa1b60448201526064016104f9565b33600090815260208190526040902080546001600160a01b0319166001600160a01b0392909216919091179055565b612ef9613568565b612f016132d3565b6000612f0b6106b6565b6002546040516302a0a1cb60e41b81529192506000916001600160a01b0390911690632a0a1cb090612f4590859089908990600401613cd8565b61014060405180830381865afa158015612f63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612f879190613d0f565b905060008160e0015111612fad5760405162461bcd60e51b81526004016104f990613da1565b600254604051637fdb96f360e01b81526001600160a01b0390911690637fdb96f390612fe390859089908990899060040161427a565b600060405180830381600087803b158015612ffd57600080fd5b505af1158015613011573d6000803e3d6000fd5b50505050600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa158015613067573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061308b9190613f48565b6001600160a01b031673__$f600c6c046224cd62da9c8e7a0d00fc8b2$__638fff7d82909184888860006130bd6136df565b6040518763ffffffff1660e01b81526004016130de969594939291906142b0565b60006040518083038186803b1580156130f657600080fd5b505af415801561310a573d6000803e3d6000fd5b505060408051878152602081018790528893506001600160a01b03861692507f7e06a81c7a47891ccc7455b5ccb2ed850e32bb655ccda67eb3ebaaeed83242a4910160405180910390a35050505050565b6002546040516302a0a1cb60e41b815260009182916001600160a01b0390911690632a0a1cb09061319490889088908890600401613cd8565b61014060405180830381865afa1580156131b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131d69190613d0f565b90506000806131e483611f3d565b91509150806132055760405162461bcd60e51b81526004016104f990613e30565b5095945050505050565b600260009054906101000a90046001600160a01b03166001600160a01b03166312d43a516040518163ffffffff1660e01b8152600401602060405180830381865afa158015613262573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132869190613f48565b6001600160a01b0316336001600160a01b0316146132d15760405162461bcd60e51b8152602060048201526008602482015267474f565f4f4e4c5960c01b60448201526064016104f9565b565b600b54610100900460ff16156132d15760405162461bcd60e51b81526004016104f990602080825260049082015263444f4e4560e01b604082015260600190565b6000806000600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa15801561336b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061338f9190613f48565b6001600160a01b0316639bd24d838a8a8a8a6040518563ffffffff1660e01b81526004016133c094939291906142f4565b608060405180830381865afa1580156133dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613401919061433c565b90506000600260009054906101000a90046001600160a01b03166001600160a01b0316633078fff56040518163ffffffff1660e01b8152600401602060405180830381865afa158015613458573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061347c9190613f48565b9050806001600160a01b0316636938c05d8a8d61349a57600361349d565b60025b888f6134f05760018b60048111156134b7576134b7613cc2565b146134e65760008b60048111156134d0576134d0613cc2565b146134df5786606001516134f6565b86516134f6565b86602001516134f6565b86604001515b6040518563ffffffff1660e01b815260040161351594939291906143b9565b6020604051808303816000875af1158015613534573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135589190613e17565b9350505097509795505050505050565b3233146132d157600080fd5b600080600260009054906101000a90046001600160a01b03166001600160a01b031662b127836040518163ffffffff1660e01b8152600401602060405180830381865afa1580156135c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135ed9190613f48565b6001600160a01b031663281b693c846040518263ffffffff1660e01b815260040161361a91815260200190565b602060405180830381865afa158015613637573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061365b9190613e17565b9050600081116136d357604051630a06da4f60e21b8152600481018490526001600160a01b0385169063281b693c90602401602060405180830381865afa1580156136aa573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906136ce9190613e17565b6136d5565b805b9150505b92915050565b600061a4b14614806136f3575062066eed46145b80613700575062066eee46145b1561376d5760646001600160a01b031663a3b1b31d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015613744573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906137689190613e17565b905090565b504390565b6001600160a01b038116811461378757600080fd5b50565b60008060008060008060008060006101208a8c0312156137a957600080fd5b89356137b481613772565b985060208a01356137c481613772565b975060408a01356137d481613772565b965060608a01356137e481613772565b955060808a01356137f481613772565b945060a08a013561380481613772565b8094505060c08a0135925060e08a013591506101008a013590509295985092959850929598565b60006020828403121561383d57600080fd5b5035919050565b803561384f81613772565b919050565b60008060008060008060c0878903121561386d57600080fd5b86359550602087013561387f81613772565b95989597505050506040840135936060810135936080820135935060a0909101359150565b634e487b7160e01b600052604160045260246000fd5b604051610140810167ffffffffffffffff811182821017156138de576138de6138a4565b60405290565b604051610c80810167ffffffffffffffff811182821017156138de576138de6138a4565b801515811461378757600080fd5b803561384f81613908565b6000610140828403121561393457600080fd5b61393c6138ba565b905061394782613844565b81526020820135602082015260408201356040820152606082013560608201526080820135608082015260a082013560a082015261398760c08301613916565b60c082015260e082013560e082015261010080830135818301525061012080830135818301525092915050565b600061014082840312156139c757600080fd5b6123708383613921565b6000806000806101a085870312156139e857600080fd5b6139f28686613921565b935061014085013560038110613a0757600080fd5b939693955050505061016082013591610180013590565b600080600060608486031215613a3357600080fd5b8335613a3e81613772565b95602085013595506040909401359392505050565b600080600060408486031215613a6857600080fd5b8335613a7381613772565b9250602084013567ffffffffffffffff80821115613a9057600080fd5b818601915086601f830112613aa457600080fd5b813581811115613ab357600080fd5b876020828501011115613ac557600080fd5b6020830194508093505050509250925092565b60005b83811015613af3578181015183820152602001613adb565b50506000910152565b60008151808452613b14816020860160208601613ad8565b601f01601f19169290920160200192915050565b6020815260006123706020830184613afc565b60008060408385031215613b4e57600080fd5b50508035926020909101359150565b600082601f830112613b6e57600080fd5b613b766138e4565b80610c80840185811115613b8957600080fd5b845b81811015613ba3578035845260209384019301613b8b565b509095945050505050565b60008060008060006132208688031215613bc757600080fd5b613bd18787613b5d565b945086610c9f870112613be357600080fd5b613beb6138e4565b80611900880189811115613bfe57600080fd5b610c8089015b81811015613c25578035613c1781613772565b845260209384019301613c04565b50819650613c338a82613b5d565b9550505050613c46876125808801613b5d565b94979396509194613200013592915050565b600080600060608486031215613c6d57600080fd5b505081359360208301359350604090920135919050565b600060208284031215613c9657600080fd5b81356136d381613772565b602080825260079082015266056414c55455f360cc1b604082015260600190565b634e487b7160e01b600052602160045260246000fd5b6001600160a01b039390931683526020830191909152604082015260600190565b805161384f81613772565b805161384f81613908565b60006101408284031215613d2257600080fd5b613d2a6138ba565b613d3383613cf9565b81526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015160a0820152613d7360c08401613d04565b60c082015260e083810151908201526101008084015190820152610120928301519281019290925250919050565b6020808252600890820152674e4f5f545241444560c01b604082015260600190565b81516001600160a01b0316815260208083015190820152604080830151908201526060808301519082015260808083015115159082015260a0828101519082015260c0918201519181019190915260e00190565b600060208284031215613e2957600080fd5b5051919050565b602080825260069082015265121054d7d4d360d21b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b8082018281126000831280158216821582161715613e8657613e86613e50565b505092915050565b80820260008212600160ff1b84141615613eaa57613eaa613e50565b81810583148215176136d9576136d9613e50565b80820281158282048414176136d9576136d9613e50565b60018060a01b038082511683526020820151602084015280604083015116604084015250606081015160608301526080810151608083015260a081015160058110613f2257613f22613cc2565b8060a0840152505050565b60e08101613f3b8285613ed5565b8260c08301529392505050565b600060208284031215613f5a57600080fd5b81516136d381613772565b82815260e081016123706020830184613ed5565b60008060408385031215613f8c57600080fd5b505080516020909101519092909150565b6001600160a01b03929092168252602082015260400190565b808201808211156136d9576136d9613e50565b6020808252601290820152714d41585f50454e44494e475f4f524445525360701b604082015260600190565b6004811061400557614005613cc2565b9052565b8481526080810161401d6020830186613ff5565b60408201939093526060015292915050565b828152815180516001600160a01b03166020830152610200820190602081015160408401526040810151606084015260608101516080840152608081015160a084015260a081015160c084015260c081015161408f60e085018215159052565b5060e0810151610100848101919091528101516101208085019190915201516101408301526020830151610160830152604083015161018083015260608301516101a083015260808301516101c083015260a0909201516101e090910152919050565b8183823760009101908152919050565b60006020828403121561411457600080fd5b815167ffffffffffffffff8082111561412c57600080fd5b818401915084601f83011261414057600080fd5b815181811115614152576141526138a4565b604051601f8201601f19908116603f0116810190838211818310171561417a5761417a6138a4565b8160405282815287602084870101111561419357600080fd5b6141a4836020830160208801613ad8565b979650505050505050565b600060c082840312156141c157600080fd5b60405160c0810181811067ffffffffffffffff821117156141e4576141e46138a4565b8060405250825181526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015161422381613908565b60a08201529392505050565b60008261424c57634e487b7160e01b600052601260045260246000fd5b500490565b634e487b7160e01b600052603260045260246000fd5b818103818111156136d9576136d9613e50565b6001600160a01b0394909416845260208401929092526040830152606082015260800190565b6002811061400557614005613cc2565b6001600160a01b03878116825286166020820152604081018590526060810184905260c081016142e360808301856142a0565b8260a0830152979650505050505050565b6001600160a01b038516815260208101849052604081018390526080810161431f60608301846142a0565b95945050505050565b805163ffffffff8116811461384f57600080fd5b60006080828403121561434e57600080fd5b6040516080810181811067ffffffffffffffff82111715614371576143716138a4565b60405261437d83614328565b815261438b60208401614328565b602082015261439c60408401614328565b60408201526143ad60608401614328565b60608201529392505050565b848152608081016143cd6020830186613ff5565b83604083015263ffffffff831660608301529594505050505056fea2646970667358221220ebd0f2bd662f0966e36c91e553816167c4ac0788d42fc7e4250b796f1cd17d1964736f6c63430008170033",
  "libraries": {
    "TradeUtils": "0xBea73565C05De9DA5149De29a04D381B0332F608",
    "PackingUtils": "0xe3c1e12de3Ea98b5b8650cD7B90eDa84AB6b1103"
  },
  "devdoc": {
    "events": {
      "Initialized(uint8)": {
        "details": "Triggered when the contract has been initialized or reinitialized."
      }
    },
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 10420,
        "contract": "contracts/Trading.sol:Trading",
        "label": "delegations",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_address,t_address)"
      },
      {
        "astId": 10422,
        "contract": "contracts/Trading.sol:Trading",
        "label": "senderOverride",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      },
      {
        "astId": 2892,
        "contract": "contracts/Trading.sol:Trading",
        "label": "_initialized",
        "offset": 20,
        "slot": "1",
        "type": "t_uint8"
      },
      {
        "astId": 2895,
        "contract": "contracts/Trading.sol:Trading",
        "label": "_initializing",
        "offset": 21,
        "slot": "1",
        "type": "t_bool"
      },
      {
        "astId": 22663,
        "contract": "contracts/Trading.sol:Trading",
        "label": "storageT",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(StorageInterface)33860"
      },
      {
        "astId": 22666,
        "contract": "contracts/Trading.sol:Trading",
        "label": "nftRewards",
        "offset": 0,
        "slot": "3",
        "type": "t_contract(NftRewardsInterfaceV6_3_1)32762"
      },
      {
        "astId": 22669,
        "contract": "contracts/Trading.sol:Trading",
        "label": "pairInfos",
        "offset": 0,
        "slot": "4",
        "type": "t_contract(PairInfosInterface)33062"
      },
      {
        "astId": 22672,
        "contract": "contracts/Trading.sol:Trading",
        "label": "referrals",
        "offset": 0,
        "slot": "5",
        "type": "t_contract(ReferralsInterface)33303"
      },
      {
        "astId": 22675,
        "contract": "contracts/Trading.sol:Trading",
        "label": "borrowingFees",
        "offset": 0,
        "slot": "6",
        "type": "t_contract(BorrowingFeesInterface)32236"
      },
      {
        "astId": 22678,
        "contract": "contracts/Trading.sol:Trading",
        "label": "callbacks",
        "offset": 0,
        "slot": "7",
        "type": "t_contract(CallbacksInterface)32300"
      },
      {
        "astId": 22686,
        "contract": "contracts/Trading.sol:Trading",
        "label": "maxPosWETH",
        "offset": 0,
        "slot": "8",
        "type": "t_uint256"
      },
      {
        "astId": 22688,
        "contract": "contracts/Trading.sol:Trading",
        "label": "marketOrdersTimeout",
        "offset": 0,
        "slot": "9",
        "type": "t_uint256"
      },
      {
        "astId": 22690,
        "contract": "contracts/Trading.sol:Trading",
        "label": "minLeveragedPosWETH",
        "offset": 0,
        "slot": "10",
        "type": "t_int256"
      },
      {
        "astId": 22692,
        "contract": "contracts/Trading.sol:Trading",
        "label": "isPaused",
        "offset": 0,
        "slot": "11",
        "type": "t_bool"
      },
      {
        "astId": 22694,
        "contract": "contracts/Trading.sol:Trading",
        "label": "isDone",
        "offset": 1,
        "slot": "11",
        "type": "t_bool"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(BorrowingFeesInterface)32236": {
        "encoding": "inplace",
        "label": "contract BorrowingFeesInterface",
        "numberOfBytes": "20"
      },
      "t_contract(CallbacksInterface)32300": {
        "encoding": "inplace",
        "label": "contract CallbacksInterface",
        "numberOfBytes": "20"
      },
      "t_contract(NftRewardsInterfaceV6_3_1)32762": {
        "encoding": "inplace",
        "label": "contract NftRewardsInterfaceV6_3_1",
        "numberOfBytes": "20"
      },
      "t_contract(PairInfosInterface)33062": {
        "encoding": "inplace",
        "label": "contract PairInfosInterface",
        "numberOfBytes": "20"
      },
      "t_contract(ReferralsInterface)33303": {
        "encoding": "inplace",
        "label": "contract ReferralsInterface",
        "numberOfBytes": "20"
      },
      "t_contract(StorageInterface)33860": {
        "encoding": "inplace",
        "label": "contract StorageInterface",
        "numberOfBytes": "20"
      },
      "t_int256": {
        "encoding": "inplace",
        "label": "int256",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_address)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}